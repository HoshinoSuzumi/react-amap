"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8382],{523:function(e){e.exports=function(){function e(e){var t=[];return e.AMapUI&&t.push(n(e.AMapUI)),e.Loca&&t.push(o(e.Loca)),Promise.all(t)}function n(e){return new Promise((function(n,o){var r=[];if(e.plugins)for(var c=0;c<e.plugins.length;c+=1)-1==a.AMapUI.plugins.indexOf(e.plugins[c])&&r.push(e.plugins[c]);if(i.AMapUI===t.failed)o("\u524d\u6b21\u8bf7\u6c42 AMapUI \u5931\u8d25");else if(i.AMapUI===t.notload){i.AMapUI=t.loading,a.AMapUI.version=e.version||a.AMapUI.version,c=a.AMapUI.version;var l=document.body||document.head,s=document.createElement("script");s.type="text/javascript",s.src="https://webapi.amap.com/ui/"+c+"/main.js",s.onerror=function(e){i.AMapUI=t.failed,o("\u8bf7\u6c42 AMapUI \u5931\u8d25")},s.onload=function(){if(i.AMapUI=t.loaded,r.length)window.AMapUI.loadUI(r,(function(){for(var e=0,o=r.length;e<o;e++){var t=r[e].split("/").slice(-1)[0];window.AMapUI[t]=arguments[e]}for(n();u.AMapUI.length;)u.AMapUI.splice(0,1)[0]()}));else for(n();u.AMapUI.length;)u.AMapUI.splice(0,1)[0]()},l.appendChild(s)}else i.AMapUI===t.loaded?e.version&&e.version!==a.AMapUI.version?o("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c AMapUI \u6df7\u7528"):r.length?window.AMapUI.loadUI(r,(function(){for(var e=0,o=r.length;e<o;e++){var t=r[e].split("/").slice(-1)[0];window.AMapUI[t]=arguments[e]}n()})):n():e.version&&e.version!==a.AMapUI.version?o("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c AMapUI \u6df7\u7528"):u.AMapUI.push((function(e){e?o(e):r.length?window.AMapUI.loadUI(r,(function(){for(var e=0,o=r.length;e<o;e++){var t=r[e].split("/").slice(-1)[0];window.AMapUI[t]=arguments[e]}n()})):n()}))}))}function o(e){return new Promise((function(n,o){if(i.Loca===t.failed)o("\u524d\u6b21\u8bf7\u6c42 Loca \u5931\u8d25");else if(i.Loca===t.notload){i.Loca=t.loading,a.Loca.version=e.version||a.Loca.version;var r=a.Loca.version,c=a.AMap.version.startsWith("2"),l=r.startsWith("2");if(c&&!l||!c&&l)o("JSAPI \u4e0e Loca \u7248\u672c\u4e0d\u5bf9\u5e94\uff01\uff01");else{c=a.key,l=document.body||document.head;var s=document.createElement("script");s.type="text/javascript",s.src="https://webapi.amap.com/loca?v="+r+"&key="+c,s.onerror=function(e){i.Loca=t.failed,o("\u8bf7\u6c42 AMapUI \u5931\u8d25")},s.onload=function(){for(i.Loca=t.loaded,n();u.Loca.length;)u.Loca.splice(0,1)[0]()},l.appendChild(s)}}else i.Loca===t.loaded?e.version&&e.version!==a.Loca.version?o("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c Loca \u6df7\u7528"):n():e.version&&e.version!==a.Loca.version?o("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c Loca \u6df7\u7528"):u.Loca.push((function(e){e?o(e):o()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var t,r;(r=t||(t={})).notload="notload",r.loading="loading",r.loaded="loaded",r.failed="failed";var a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},u={AMap:[],AMapUI:[],Loca:[]},c=[],l=function(e){"function"==typeof e&&(i.AMap===t.loaded?e(window.AMap):c.push(e))};return{load:function(n){return new Promise((function(o,r){if(i.AMap==t.failed)r("");else if(i.AMap==t.notload){var u=n.key,s=n.version,f=n.plugins;u?(window.AMap&&"lbs.amap.com"!==location.host&&r("\u7981\u6b62\u591a\u79cdAPI\u52a0\u8f7d\u65b9\u5f0f\u6df7\u7528"),a.key=u,a.AMap.version=s||a.AMap.version,a.AMap.plugins=f||a.AMap.plugins,i.AMap=t.loading,s=document.body||document.head,window.___onAPILoaded=function(a){if(delete window.___onAPILoaded,a)i.AMap=t.failed,r(a);else for(i.AMap=t.loaded,e(n).then((function(){o(window.AMap)})).catch(r);c.length;)c.splice(0,1)[0]()},(f=document.createElement("script")).type="text/javascript",f.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+a.AMap.version+"&key="+u+"&plugin="+a.AMap.plugins.join(","),f.onerror=function(e){i.AMap=t.failed,r(e)},s.appendChild(f)):r("\u8bf7\u586b\u5199key")}else if(i.AMap==t.loaded)if(n.key&&n.key!==a.key)r("\u591a\u4e2a\u4e0d\u4e00\u81f4\u7684 key");else if(n.version&&n.version!==a.AMap.version)r("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c JSAPI \u6df7\u7528");else{if(u=[],n.plugins)for(s=0;s<n.plugins.length;s+=1)-1==a.AMap.plugins.indexOf(n.plugins[s])&&u.push(n.plugins[s]);u.length?window.AMap.plugin(u,(function(){e(n).then((function(){o(window.AMap)})).catch(r)})):e(n).then((function(){o(window.AMap)})).catch(r)}else if(n.key&&n.key!==a.key)r("\u591a\u4e2a\u4e0d\u4e00\u81f4\u7684 key");else if(n.version&&n.version!==a.AMap.version)r("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c JSAPI \u6df7\u7528");else{var p=[];if(n.plugins)for(s=0;s<n.plugins.length;s+=1)-1==a.AMap.plugins.indexOf(n.plugins[s])&&p.push(n.plugins[s]);l((function(){p.length?window.AMap.plugin(p,(function(){e(n).then((function(){o(window.AMap)})).catch(r)})):e(n).then((function(){o(window.AMap)})).catch(r)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},u={AMap:[],AMapUI:[],Loca:[]}}}}()},8382:function(e,n,o){o.r(n),o.d(n,{APILoader:function(){return l},AutoComplete:function(){return g},BezierCurve:function(){return R},Circle:function(){return P},CircleMarker:function(){return H},Context:function(){return y},ContextMenu:function(){return j},ControlBarControl:function(){return _},Ellipse:function(){return Y},Geolocation:function(){return K},HawkEyeControl:function(){return Q},InfoWindow:function(){return ne},LabelMarker:function(){return pe},Map:function(){return T},MapTypeControl:function(){return re},Marker:function(){return se},MassMarks:function(){return Me},MouseTool:function(){return Ie},MouseToolDrawType:function(){return Ze},PolyEditor:function(){return ge},Polygon:function(){return he},PolygonEditor:function(){return Ee},Polyline:function(){return ye},PolylineEditor:function(){return ke},Provider:function(){return b},Rectangle:function(){return Se},ScaleControl:function(){return Pe},Text:function(){return He},TileLayer:function(){return ue},TileLayerType:function(){return ie},ToolBarControl:function(){return Be},Weather:function(){return je},initialState:function(){return w},reducer:function(){return C},requireCss:function(){return Re},requireScript:function(){return xe},useAutoComplete:function(){return E},useBezierCurve:function(){return L},useCircle:function(){return O},useCircleMarker:function(){return D},useContextMenu:function(){return B},useControlBarControl:function(){return W},useEllipse:function(){return G},useEventProperties:function(){return A},useGeolocation:function(){return J},useHawkEyeControl:function(){return $},useInfoWindow:function(){return ee},useMap:function(){return Z},useMapContext:function(){return k},useMapTypeControl:function(){return te},useMarker:function(){return le},useMassMarks:function(){return ve},usePolygon:function(){return Ae},usePolyline:function(){return Ce},usePortal:function(){return d},usePrevious:function(){return m},useRectangle:function(){return Te},useScaleControl:function(){return Oe},useSetStatus:function(){return v},useSettingProperties:function(){return h},useText:function(){return De},useTileLayer:function(){return ae},useToolBarControl:function(){return ze},useVisiable:function(){return M},useWeather:function(){return Ne}});var t=o(1026),r=o(808),a=o(1473),i=o(523),u=o(9286),c=["children"],l=function(e){var n=e.children,o=(0,r.Z)(e,c),l=(0,a.useState)(!1),s=(0,t.Z)(l,2),f=s[0],p=s[1],d=(0,a.useState)(),v=(0,t.Z)(d,2),M=v[0],m=v[1];return(0,a.useEffect)((function(){var e=o.akey||o.akay||"",n=o.plugins||(o.plugin?o.plugin.split(","):[]);(0,i.load)({key:e,plugins:n,version:o.version||"2.0",AMapUI:o.AMapUI,Loca:o.Loca}).then((function(){m(void 0),p(!0)})).catch((function(e){m(e)}))}),[o.akey,o.akay]),M?(0,u.jsx)("div",{style:{color:"red"},children:M.message}):f?(0,u.jsx)(a.Fragment,{children:n}):null},s=o(5773),f=o(4649),p=o(7510),d=function(){var e=a.useState((function(){return document.createElement("div")})),n=(0,t.Z)(e,1)[0],o=(0,a.useState)({render:function(){return null},remove:function(){return null}}),r=(0,t.Z)(o,2),i=r[0],u=r[1],c=a.useCallback((function(e){return{render:function(n){var o=n.children;return o?(0,p.createPortal)(o,e):null},remove:function(e){e&&(0,p.unmountComponentAtNode)(e)}}}),[]);return(0,a.useEffect)((function(){n&&i.remove();var e=c(n);return u(e),function(){e.remove(n)}}),[n]),{Portal:i.render,container:n}};function v(e,n,o){void 0===n&&(n={}),void 0===o&&(o=[]),o.forEach((function(o){var r=o,i=(0,a.useState)(n[r]),u=(0,t.Z)(i,2),c=u[0],l=u[1];(0,a.useEffect)((function(){if(e&&void 0!==n[r]&&n[r]!==c){var o=e.getStatus();e.setStatus((0,s.Z)({},o,(0,f.Z)({},r,n[r]))),l(n[r])}}),[e,n[r]])}))}function M(e,n){var o=(0,a.useState)(n),r=(0,t.Z)(o,2),i=r[0],u=r[1];(0,a.useEffect)((function(){e&&void 0!==n&&(n?e.show&&e.show():e.hide&&e.hide(),n!==i&&u(n))}),[e,n])}function m(e){var n=(0,a.useRef)();return(0,a.useEffect)((function(){n.current=e})),n.current}function A(e,n,o,t){void 0===n&&(n={}),void 0===o&&(o=[]),o.forEach((function(o){var t=o,r=n[t];(0,a.useEffect)((function(){if(e){var n=o.toLocaleLowerCase().replace(/^on/,"");return r&&n&&e.on(n,r),function(){n&&r&&e.off(n,r)}}}),[e,n[t]])}))}function h(e,n,o){void 0===e&&(e={}),void 0===n&&(n={}),void 0===o&&(o=[]),o.forEach((function(o){var r="set"+o,i=""+o.charAt(0).toLowerCase()+o.slice(1),u=(0,a.useState)(n[i]),c=(0,t.Z)(u,2),l=c[0],s=c[1];(0,a.useEffect)((function(){e&&void 0!==n[i]&&n[i]!==l&&e[r]&&"function"===typeof e[r]&&(e[r](n[i]),s(n[i]))}),[e,n[i]])}))}var E=function(e){void 0===e&&(e={});var n=(0,a.useState)(),o=(0,t.Z)(n,2),r=o[0],i=o[1];return(0,a.useEffect)((function(){var n;if(AMap&&!r)return AMap.v?AMap.plugin(["AMap.Autocomplete"],(function(){n=new AMap.Autocomplete(e),i(n)})):AMap.plugin(["AMap.AutoComplete"],(function(){n=new AMap.AutoComplete(e),i(n)})),function(){n&&i(void 0)}}),[]),h(r,e,["Type","City","CityLimit"]),A(r,e,["onChoose","onSelect"]),{autoComplete:r,setAutoComplete:i}},g=a.forwardRef((function(e,n){var o=E(e).autoComplete;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{autoComplete:o})})),null}));var w={map:void 0,AMap:void 0,container:void 0},C=function(e,n){return(0,s.Z)({},e,n)},y=a.createContext({state:w,dispatch:function(){return null}});function k(){var e=(0,a.useContext)(y),n=e.state,o=e.dispatch;return(0,s.Z)({},n,{state:n,dispatch:o})}var Z=function(e){void 0===e&&(e={});var n=(0,s.Z)({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),o=(0,a.useState)(),r=(0,t.Z)(o,2),i=r[0],u=r[1],c=(0,a.useState)(e.zoom||15),l=(0,t.Z)(c,2),f=l[0],p=l[1],d=(0,a.useState)(e.container),M=(0,t.Z)(d,2),m=M[0],E=M[1],g=(0,a.useContext)(y).dispatch;return(0,a.useEffect)((function(){if(m&&!i&&AMap){m.className=m.className+" react-amap-wapper";var e=new AMap.Map(m,(0,s.Z)({zoom:f},n));u(e)}return function(){i&&(i.clearInfoWindow(),i.clearLimitBounds(),i.clearMap(),i.destroy(),u(void 0))}}),[m,i]),(0,a.useEffect)((function(){return i&&m&&g({map:i,container:m,AMap:AMap}),function(){g({map:void 0,container:void 0,AMap:void 0})}}),[i,m]),(0,a.useMemo)((function(){i&&"number"===typeof e.zoom&&f!==e.zoom&&e.zoom>=2&&e.zoom<=20&&(p(e.zoom),i.setZoom(e.zoom))}),[f,e.zoom]),(0,a.useMemo)((function(){e.center&&i&&i.setCenter(e.center)}),[i,e.center]),v(i,e,["dragEnable","zoomEnable","jogEnable","pitchEnable","rotateEnable","animateEnable","keyboardEnable"]),h(i,e,["Zoom","LabelzIndex","Layers","City","Bounds","LimitBounds","Lang","Rotation","DefaultCursor","MapStyle","Features","DefaultLayer","Pitch"]),A(i,e,["onMouseMove","onZoomChange","onMapMove","onMouseWheel","onZoomStart","onMouseOver","onMouseOut","onDblClick","onClick","onZoomEnd","onMoveEnd","onMouseUp","onMouseDown","onRightClick","onMoveStart","onDragStart","onDragging","onDragEnd","onHotspotOut","onHotspotOver","onTouchStart","onComplete","onHotspotClick","onTouchMove","onTouchEnd","onResize"]),{map:i,setMap:u,zoom:f,setZoom:p,container:m,setContainer:E}},I=["className","children"],b=function(e){var n=(0,a.useReducer)(C,w),o=(0,t.Z)(n,2),r=o[0],i=o[1];return(0,u.jsx)(y.Provider,{value:(0,s.Z)({},r,{state:r,dispatch:i}),children:e.children})},T=(0,a.forwardRef)((function(e,n){var o=e.className,i=e.children,c=(0,r.Z)(e,I),l=window.AMap,f=(0,a.useReducer)(C,w),p=(0,t.Z)(f,2),d=p[0],v=p[1],M=(0,a.useRef)(null),m=Z((0,s.Z)({container:c.container||M.current},c)),A=m.setContainer,h=m.container,E=m.map;(0,a.useEffect)((function(){return A(M.current)}),[M.current]),(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},c,{map:E,AMap:l,container:c.container||M.current})}),[E]);var g=a.Children.toArray(i);return(0,a.useEffect)((function(){E&&v({map:E,container:M.current,AMap:l})}),[E]),(0,u.jsxs)(y.Provider,{value:(0,s.Z)({},d,{state:d,dispatch:v}),children:[!c.container&&(0,u.jsx)("div",{ref:M,className:o,style:(0,s.Z)({fontSize:1,width:"100%",height:"100%"},c.style)}),l&&E&&"function"===typeof i&&i({AMap:l,map:E,container:h}),l&&E&&g.map((function(e,n){return(0,a.isValidElement)(e)?"string"===typeof e?(0,a.cloneElement)((0,u.jsx)(a.Fragment,{children:e}),{key:n}):e.type&&"string"===typeof e.type?(0,a.cloneElement)(e,{key:n}):(0,a.cloneElement)(e,(0,s.Z)({},e.props,{AMap:l,map:E,container:h,key:n})):null}))]})})),S=["visiable"],L=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,r.Z)(e,S),i=k().map,u=(0,a.useState)(),c=(0,t.Z)(u,2),l=c[0],f=c[1];return(0,a.useEffect)((function(){if(AMap&&i&&!l){var e=new AMap.BezierCurve((0,s.Z)({},o));return i.add(e),f(e),function(){e&&(AMap.v?i&&i.remove(e):i&&i.removeLayer(e),f(void 0))}}}),[i]),M(l,n),h(l,e,["Options","Path","ExtData","ExtData"]),A(l,e,["onHide","onShow","onDblClick","onMouseOver","onMouseUp","onMouseDown","onclick","onTouchEnd","onTouchMove","onTouchStart","onRightClick","onMouseOut"]),{bezierCurve:l,setBezierCurve:f}},R=a.forwardRef((function(e,n){var o=L(e).bezierCurve;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{bezierCurve:o})})),null})),x=["visiable"],O=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,r.Z)(e,x),i=k().map,u=(0,a.useState)(),c=(0,t.Z)(u,2),l=c[0],f=c[1];return(0,a.useEffect)((function(){if(AMap&&i&&!l){var e=new AMap.Circle((0,s.Z)({},o));i.add(e),f(e)}return function(){l&&(i&&i.remove(l),f(void 0))}}),[i]),M(l,n),h(l,e,["Center","Raius","Options","ExtData"]),A(l,e,["onHide","onShow","onRightClick","onClick","onTouchEnd","onDblClick","onTouchMove","onTouchStart","onMouseOut","onMouseOver","onMouseUp","onMouseDown"]),{circle:l,setCircle:f}},P=a.forwardRef((function(e,n){var o=O(e).circle;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{circle:o})})),null})),U=["visiable"],D=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,r.Z)(e,U),i=k().map,u=(0,a.useState)(),c=(0,t.Z)(u,2),l=c[0],f=c[1];return(0,a.useEffect)((function(){if(AMap&&i&&!l){var e=new AMap.CircleMarker((0,s.Z)({},o));return i.add(e),f(e),function(){e&&(AMap.v?i&&i.remove(e):i&&i.removeLayer(e),f(void 0))}}}),[i]),M(l,n),h(l,e,["Center","Raius","zIndex","Bubble","Cursor","StrokeColor","StrokeOpacity","StrokeWeight","FillColor","FillOpacity","Draggable","ExtData"]),A(l,e,["onHide","onShow","onMouseover","onTouchend","onClick","onTouchmove","onRightclick","onMouseup","onMouseout","onTouchstart","onMousedown","onDblclick"]),{circleMarker:l,setCircleMarker:f}},H=a.forwardRef((function(e,n){var o=D(e).circleMarker;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{circleMarker:o})})),null})),z=["position"],B=function(e){void 0===e&&(e={});var n=e.position,o=(0,r.Z)(e,z),i=k().map,u=(0,a.useState)(),c=(0,t.Z)(u,2),l=c[0],f=c[1];return(0,a.useEffect)((function(){if(AMap&&i&&!l){var e=new AMap.ContextMenu((0,s.Z)({},o));f(e);var t=function(o){return e.open(i,n||o.lnglat)};return i.on("rightclick",t),function(){e&&(e.close(),i.off("rightclick",t),f(void 0))}}}),[i]),A(l,e,["onOpen","onClose"]),{contextMenu:l,setContextMenu:f}},N=function(){},j=a.forwardRef((function(e,n){var o=B(e).contextMenu;(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{contextMenu:o})}));var t=a.Children.toArray(e.children);return(0,u.jsx)(a.Fragment,{children:AMap&&o&&t.map((function(n,t){return a.isValidElement(n)?a.cloneElement(n,(0,s.Z)({},n.props,{AMap:AMap,map:e.map,contextMenu:o,key:t})):null}))})}));function W(e){void 0===e&&(e={});var n=e,o=n.position,r=n.visiable,i=n.offset,u=(0,a.useState)(),c=(0,t.Z)(u,2),l=c[0],s=c[1],f=k().map;return(0,a.useEffect)((function(){var e;if(f&&!l)return f.plugin(["AMap.ControlBar","AMap.HawkEye"],(function(){e=new AMap.ControlBar({offset:i,position:o}),f.addControl(e),s(e)})),function(){e&&f.removeControl(e)}}),[f]),M(l,r),{controlBarControl:l,setControlBarControl:s}}j.Item=function(e){void 0===e&&(e={});var n=e,o=n.text,t=void 0===o?"":o,r=n.onClick,i=void 0===r?N:r;return(0,a.useEffect)((function(){return e.contextMenu&&e.contextMenu.addItem(t,i,1),function(){e.contextMenu&&e.contextMenu.removeItem(t,i)}}),[e.contextMenu,e.text,e.onClick]),null};var _=a.forwardRef((function(e,n){var o=W(e).controlBarControl;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{controlBarControl:o})}),[o]),null})),F=["visiable"],G=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,r.Z)(e,F),i=k().map,u=(0,a.useState)(),c=(0,t.Z)(u,2),l=c[0],f=c[1];return(0,a.useEffect)((function(){if(AMap&&i&&!l){var e=new AMap.Ellipse((0,s.Z)({},o));return i.add(e),f(e),function(){e&&(AMap.v?i&&i.remove(e):i&&i.removeLayer(e),f(void 0))}}}),[i]),M(l,n),h(l,e,["Center","Radius","Options","ExtData"]),A(l,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{ellipse:l,setEllipse:f}},Y=a.forwardRef((function(e,n){var o=G(e).ellipse;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{ellipse:o})})),null})),V=["type","onComplete","onError"],J=function(e){void 0===e&&(e={});var n=e,o=n.type,i=void 0===o?"position":o,u=n.onComplete,c=n.onError,l=(0,r.Z)(e,V),f=(0,a.useState)(),p=(0,t.Z)(f,2),d=p[0],v=p[1],M=k().map;function m(e,n){"complete"===e&&u?u(n):c&&c(n)}return(0,a.useEffect)((function(){var e;if(AMap&&!d)return AMap.plugin(["AMap.Geolocation"],(function(){e=new AMap.Geolocation((0,s.Z)({},l)),v(e)})),function(){e&&v(void 0)}}),[AMap]),(0,a.useMemo)((function(){if(/^(position|cityInfo)$/.test(i)){var e="position"===i?"getCurrentPosition":"getCityInfo";d&&M?(d[e](m),M.addControl(d)):d&&d[e](m)}}),[d]),{geolocation:d,setGeolocation:v}},K=a.forwardRef((function(e,n){var o=J(e).geolocation;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{geolocation:o})})),null})),q=["offset","visiable"];function $(e){void 0===e&&(e={});var n=(0,a.useState)(),o=(0,t.Z)(n,2),i=o[0],u=o[1],c=e,l=c.offset,f=c.visiable,p=(0,r.Z)(e,q),d=k().map;return(0,a.useEffect)((function(){var e;if(d&&!i)return d.plugin(["AMap.HawkEye"],(function(){e=new AMap.HawkEye((0,s.Z)({offset:l},p)),d.addControl(e),u(e)})),function(){e&&d&&(d&&d.removeControl(e),u(void 0))}}),[d]),M(i,f),{hawkEyeControl:i,setHawkEyeControl:u}}var Q=a.forwardRef((function(e,n){var o=$(e).hawkEyeControl;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{hawkEyeControl:o})}),[o]),null})),X=["visiable","position"],ee=function(e){void 0===e&&(e={});var n=e,o=n.visiable,i=n.position,u=(0,r.Z)(e,X),c=k().map,l=(0,a.useState)(o),f=(0,t.Z)(l,2),p=f[0],v=f[1],M=(0,a.useState)(),m=(0,t.Z)(M,2),E=m[0],g=m[1],w=d(),C=w.container,y=w.Portal;return(0,a.useEffect)((function(){if(AMap&&c&&!E){var n=c.getCenter();e.children&&(u.content=C);var o=new AMap.InfoWindow((0,s.Z)({},u,{position:i||n}));return g(o),p&&o.open(c,i||n),function(){o&&(c&&c.remove(o),g(void 0))}}}),[c]),(0,a.useEffect)((function(){E&&E.setContent(e.children?C:u.content||"")}),[e.children,C,u.content,E]),(0,a.useMemo)((function(){if(p!==o&&E&&c)if(v(o),o){var e=c.getCenter();E.open(c,i||e)}else E.close()}),[o,E]),(0,a.useEffect)((function(){if(c&&E&&o){var e=c.getCenter();E.open(c,i||e)}}),[i]),h(E,e,["Content","Anchor","Size"]),A(E,e,["onOpen","onClose","onChange"]),{isOpen:p,setIsOpen:v,infoWindow:E,setInfoWindow:g,InfoWindowPortal:y}},ne=a.forwardRef((function(e,n){var o=ee(e),t=o.infoWindow,r=o.InfoWindowPortal;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{infoWindow:t})})),(0,u.jsx)(r,{children:e.children})})),oe=["visiable","defaultType"];function te(e){void 0===e&&(e={});var n=(0,a.useState)(),o=(0,t.Z)(n,2),i=o[0],u=o[1],c=e,l=c.visiable,f=c.defaultType,p=void 0===f?0:f,d=(0,r.Z)(e,oe),v=k().map;return(0,a.useEffect)((function(){var e;if(v&&!i)return v.plugin(["AMap.MapType"],(function(){e=new AMap.MapType((0,s.Z)({defaultType:p},d)),v.addControl(e),u(e)})),function(){e&&v.removeControl(e)}}),[v]),M(i,l),{mapTypeControl:i,setMapTypeControl:u}}var re=a.forwardRef((function(e,n){var o=te(e).mapTypeControl;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{mapTypeControl:o})}),[o]),null}));function ae(e){void 0===e&&(e={});var n=(0,a.useState)(),o=(0,t.Z)(n,2),r=o[0],i=o[1],u=e,c=u.visiable,l=u.type,s=u.options,f=k().map;return(0,a.useEffect)((function(){if(f){var n=null;if(l)switch(l){case ie.ROADNET:n=new AMap.TileLayer.RoadNet({});break;case ie.SATELLITE:n=new AMap.TileLayer.Satellite({});break;case ie.TRAFFIC:n=new AMap.TileLayer.Traffic({})}return s&&(n=new AMap.TileLayer(s)),n&&(f.add(n),e.onAdded&&e.onAdded(),i(n)),function(){n&&(AMap.v?f&&f.remove(n):f&&f.removeLayer(n),i(null),e.onRemoved&&e.onRemoved())}}}),[f,l,s]),M(r,c),{tileLayer:r,setTileLayer:i}}var ie=function(e){return e.SATELLITE="satellite",e.TRAFFIC="traffic",e.ROADNET="roadnet",e}({}),ue=a.forwardRef((function(e,n){var o=ae(e).tileLayer;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{tileLayer:o})}),[o]),null})),ce=["visiable","children"],le=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,r.Z)(e,ce),i=k().map,u=(0,a.useState)(),c=(0,t.Z)(u,2),l=c[0],f=c[1],p=d(),v=p.container,m=p.Portal;return(0,a.useEffect)((function(){if(!l&&i){e.children&&(o.content=v);var n=new AMap.Marker((0,s.Z)({},o));i.add(n),f(n)}return function(){l&&(l.setMap(null),f(void 0))}}),[i,l]),M(l,n),h(l,e,["Path","Anchor","Offset","Animation","Clickable","Position","Angle","Label","zIndex","Icon","Draggable","Cursor","Content","Map","Title","Top","Shadow","Shape","ExtData"]),A(l,e,["onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragging","onDragEnd","onMoving","onMoveEnd","onMoveAlong","onTouchStart","onTouchMove","onTouchEnd"]),{marker:l,setMarker:f,MarkerPortal:m}},se=(0,a.forwardRef)((function(e,n){var o=le(e),t=o.marker,r=o.MarkerPortal;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{marker:t})}),[t]),(0,u.jsx)(r,{children:e.children})})),fe=["visiable","children","text","icon"],pe=(0,a.forwardRef)((function(e,n){var o=function(e){void 0===e&&(e={});var n=e,o=n.visiable,i=n.text,u=n.icon,c=(0,r.Z)(e,fe),l=k(),f=l.map,p=l.AMap,d=(0,a.useState)(),v=(0,t.Z)(d,2),m=v[0],E=v[1];return(0,a.useEffect)((function(){if(!m&&f){var e,n=i;i||(n={content:"",direction:"right",offset:[-20,-5],style:{fontSize:12,fillColor:"#22886f",strokeColor:"#fff",strokeWidth:2}});var o=u;o||(o={image:"http://webapi.amap.com/theme/v1.3/markers/b/mark_bs.png",size:[19,32],anchor:"center"});var t,r=new p.LabelMarker((0,s.Z)({style:o,icon:o,text:n},c));E(r),0===(null==p||null==(e=p.v)?void 0:e.indexOf("1.4"))&&(f.labelMarkersLayer?t=f.labelMarkersLayer:(f.labelMarkersLayer=t=new p.LabelsLayer({zooms:[3,20],zIndex:101,collision:!0,animation:!0}),f.add(t)),t.add(r)),f.add(r)}return function(){var e,n;m&&(0===(null==p||null==(e=p.v)?void 0:e.indexOf("1.4"))&&(null==f||null==(n=f.labelMarkersLayer)||n.remove(m)),E(void 0))}}),[m,f]),M(m,o),h(m,e,["Name","Position","Zooms","Opacity","zIndex","Rank","Text","Icon","ExtData","Top"]),A(m,e,["onMousedown","onMouseup","onTouchstart","onTouchmove","onTouchend","onClick","onMousemove","onMouseover","onMouseout"]),{labelMarker:m,setLabelMarker:E}}(e),i=o.labelMarker;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{labelMarker:i})}),[i]),null})),de=["visiable"],ve=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,r.Z)(e,de),i=k().map,u=o||{},c=u.opacity,l=void 0===c?.8:c,s=u.zIndex,f=void 0===s?1111:s,p=u.style,d=u.data,v=(0,a.useState)(),m=(0,t.Z)(v,2),E=m[0],g=m[1];return(0,a.useEffect)((function(){if(AMap&&i&&!E){var e=p;e||(e=[{url:"https://webapi.amap.com/images/mass/mass0.png",anchor:new AMap.Pixel(6,6),size:new AMap.Size(11,11),zIndex:3},{url:"https://webapi.amap.com/images/mass/mass1.png",anchor:new AMap.Pixel(4,4),size:new AMap.Size(7,7),zIndex:2},{url:"https://webapi.amap.com/images/mass/mass2.png",anchor:new AMap.Pixel(3,3),size:new AMap.Size(5,5),zIndex:1}]);var n=new AMap.MassMarks(d||[],{opacity:l,zIndex:f,style:e});return g(n),n.setMap(i),function(){n&&(n.clear(),g(void 0))}}}),[i]),M(E,n),h(E,e,["Map","Data","Style","Opacity","zIndex","Zooms"]),A(E,e,["onClick","onDblClick","onMouseMove","onMouseOut","onMouseUp","onMouseDown","onMouseOver","onTouchStart","onTouchEnd"]),{massMarks:E,setMassMarks:g}},Me=a.forwardRef((function(e,n){var o=ve(e).massMarks;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{massMarks:o})}),[o,e]),null})),me=["visiable"],Ae=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,r.Z)(e,me),i=k().map,u=(0,a.useState)(),c=(0,t.Z)(u,2),l=c[0],f=c[1];return(0,a.useEffect)((function(){if(AMap&&i&&!l){var e=new AMap.Polygon((0,s.Z)({},o));return i.add(e),f(e),function(){e&&(AMap.v?i&&i.remove(e):i&&i.removeLayer(e),f(void 0))}}}),[i]),M(l,n),h(l,e,["Path","Options","Map","ExtData","Draggable"]),A(l,e,["onClick","onDblClick","onRightClick","onHide","onShow","onMouseDown","onMouseUp","onMouseOver","onMouseOut","onChange","onDragStart","onDragging","onDragEnd","onTouchStart","onTouchMove","onTouchEnd"]),{polygon:l,setPolygon:f}},he=(0,a.forwardRef)((function(e,n){var o=e.children,t=Ae(e).polygon;if((0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{polygon:t})}),[t]),o&&(0,a.isValidElement)(o)&&t){var r={polygon:t,polyElement:t};return(0,a.cloneElement)(o,(0,s.Z)({},e,r))}return null})),Ee=(0,a.forwardRef)((function(e,n){var o=e.active,r=e.polygon,i=k().map,u=(0,a.useState)(!0),c=(0,t.Z)(u,2),l=c[0],f=c[1],p=(0,a.useState)(),d=(0,t.Z)(p,2),v=d[0],M=d[1];return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{polyEditor:v})})),(0,a.useEffect)((function(){if(r&&i&&!v&&AMap&&AMap.PolygonEditor){var e=new AMap.PolygonEditor(i,r);r.on("hide",(function(){return f(!1)})),r.on("show",(function(){return f(!0)})),M(e)}}),[r]),(0,a.useEffect)((function(){v&&(l&&!o?(v.close(),e.onEnd&&e.onEnd({target:e.polygon})):l&&o?(v.open(),e.onAdd&&e.onAdd({target:e.polygon})):!l&&o&&(v.close(),e.onEnd&&e.onEnd({target:e.polygon})))}),[o,l]),A(v,e,["onEnd","onAddnode","onRemovenode","onAdjust","onMove","onAdd"]),null})),ge=(0,a.forwardRef)((function(e,n){var o=e.active,r=e.polyElement,i=k().map,u=(0,a.useState)(!0),c=(0,t.Z)(u,2),l=c[0],f=c[1],p=(0,a.useState)(),d=(0,t.Z)(p,2),v=d[0],M=d[1];return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{polyEditor:v})})),(0,a.useEffect)((function(){if(r&&i&&!v&&AMap&&AMap.PolyEditor){var e=new AMap.PolyEditor(i,r);r.on("hide",(function(){return f(!1)})),r.on("show",(function(){return f(!0)})),M(e)}}),[r]),(0,a.useEffect)((function(){v&&(l&&!o?(v.close(),e.onEnd&&e.onEnd({type:"end",target:e.polyElement})):l&&o?v.open():!l&&o&&(v.close(),e.onEnd&&e.onEnd({type:"end",target:e.polyElement})))}),[o,l]),A(v,e,["onEnd","onAddnode","onAdjust","onRemovenode"]),null})),we=["visiable"];function Ce(e){void 0===e&&(e={});var n=(0,a.useState)(),o=(0,t.Z)(n,2),i=o[0],u=o[1],c=e.visiable,l=(0,r.Z)(e,we),f=k().map;return(0,a.useEffect)((function(){if(f&&!i){var e=new AMap.Polyline((0,s.Z)({},l));return f.add(e),u(e),function(){e&&(AMap.v?f&&f.remove(e):f&&f.removeLayer(e),u(void 0))}}}),[f]),M(i,c),h(i,e,["Path","Options","Map","ExtData","Draggable"]),A(i,e,["onHide","onShow","onMouseOut","onChange","onDragStart","onDragging","onDragEnd","onRightClick","onDblClick","onMouseDown","onClick","onMouseOver","onTouchEnd","onTouchMove","onTouchStart","onMouseUp"]),{polyline:i,setPolyline:u}}var ye=a.forwardRef((function(e,n){var o=e.children,t=Ce(e).polyline;if((0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{polyline:t})}),[t]),o&&(0,a.isValidElement)(o)&&t){var r={polyElement:t,polyline:t};return(0,a.cloneElement)(o,(0,s.Z)({},e,r))}return null})),ke=(0,a.forwardRef)((function(e,n){var o=e.active,r=e.polyline,i=k().map,u=(0,a.useState)(!0),c=(0,t.Z)(u,2),l=c[0],f=c[1],p=(0,a.useState)(),d=(0,t.Z)(p,2),v=d[0],M=d[1];return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{polyEditor:v})})),(0,a.useEffect)((function(){if(r&&i&&!v&&AMap&&AMap.PolylineEditor){var e=new AMap.PolylineEditor(i,r);r.on("hide",(function(){return f(!1)})),r.on("show",(function(){return f(!0)})),M(e)}}),[r]),(0,a.useEffect)((function(){v&&(l&&!o?(v.close(),e.onEnd&&e.onEnd({target:e.polyline})):l&&o?(v.open(),e.onAdd&&e.onAdd({target:e.polyline})):!l&&o&&(v.close(),e.onEnd&&e.onEnd({target:e.polyline})))}),[o,l,v]),A(v,e,["onEnd","onAddnode","onRemovenode","onAdjust","onAdd"]),null})),Ze=function(e){return e[e.MARKER=0]="MARKER",e[e.POLYLINE=1]="POLYLINE",e[e.POLYGON=2]="POLYGON",e[e.CIRCLE=3]="CIRCLE",e[e.RECTANGLE=4]="RECTANGLE",e[e.MEASUREAREA=5]="MEASUREAREA",e[e.RULE=6]="RULE",e[e.RECTZOOMIN=7]="RECTZOOMIN",e[e.RECTZOOMOUT=8]="RECTZOOMOUT",e}({}),Ie=(0,a.forwardRef)((function(e,n){var o=e.active,r=e.type,i=e.drawElementOptions,u=e.ifClear,c=k().map,l=(0,a.useState)(),f=(0,t.Z)(l,2),p=f[0],d=f[1];return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{mouseTool:p})})),(0,a.useEffect)((function(){if(c&&!p&&AMap&&AMap.MouseTool){var e=new AMap.MouseTool(c);d(e)}}),[c,Map,AMap.MouseTool]),(0,a.useEffect)((function(){if(p)if(o)switch(r){case Ze.MARKER:p.marker(i||{});break;case Ze.POLYLINE:p.polyline(i||{});break;case Ze.POLYGON:p.polygon(i||{});break;case Ze.CIRCLE:p.circle(i||{});break;case Ze.RECTANGLE:p.rectangle(i||{});break;case Ze.MEASUREAREA:p.measureArea(i||{});break;case Ze.RULE:p.rule(i||{});break;case Ze.RECTZOOMIN:p.rectZoomIn(i||{});break;case Ze.RECTZOOMOUT:p.rectZoomOut(i||{})}else p.close(u)}),[o,u]),A(p,e,["onDraw"]),null})),be=["visiable"],Te=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,r.Z)(e,be),i=k().map,u=(0,a.useState)(),c=(0,t.Z)(u,2),l=c[0],f=c[1];return(0,a.useEffect)((function(){if(AMap&&i&&!l){var e=new AMap.Rectangle((0,s.Z)({},o));return i.add(e),f(e),function(){e&&(AMap.v?i&&i.remove(e):i&&i.removeLayer(e),f(void 0))}}}),[i]),M(l,n),h(l,e,["Bounds","Options","Map","ExtData"]),A(l,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{rectangle:l,setRectangle:f}},Se=a.forwardRef((function(e,n){var o=Te(e).rectangle;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{rectangle:o})})),null})),Le={};function Re(e,n){void 0===n&&(n="_react_amap_css");var o=document&&(document.head||document.getElementsByTagName("head")[0]),t=document.getElementById(n);return new Promise((function(r,a){if(!document||e in Le||t)r();else{var i=document.createElement("link");i.type="text/css",i.rel="stylesheet",i.id=n,i.href=e,i.onerror=function(n){o.removeChild(i),a(new URIError("The css "+e+" is no accessible."))},i.onload=function(){Le[e]=!0,r()},o.appendChild(i)}}))}function xe(e,n){void 0===n&&(n="_react_amap_plugin");var o=document&&(document.head||document.getElementsByTagName("head")[0]),t=document.getElementById(n);return new Promise((function(r,a){if(!document||e in Le||t)r();else{var i=document.createElement("script");i.type="text/javascript",i.id=n,i.async=!0,i.defer=!0,i.src=e,i.onerror=function(n){o.removeChild(i),a(new URIError("The Script "+e+" is no accessible."))},i.onload=function(){Le[e]=!0,r()},o.appendChild(i)}}))}function Oe(e){void 0===e&&(e={});var n=(0,a.useState)(),o=(0,t.Z)(n,2),r=o[0],i=o[1],u=e,c=u.position,l=u.visiable,s=u.offset,f=k().map;return(0,a.useEffect)((function(){var e;if(f&&!r)return f.plugin(["AMap.Scale"],(function(){e=new AMap.Scale({offset:s,position:c}),f.addControl(e),i(e)})),function(){e&&f.removeControl(e)}}),[f]),M(r,l),{scaleControl:r,setScaleControl:i}}var Pe=a.forwardRef((function(e,n){var o=Oe(e).scaleControl;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{scaleControl:o})}),[o]),null})),Ue=["visiable"],De=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,r.Z)(e,Ue),i=(0,a.useState)(),u=(0,t.Z)(i,2),c=u[0],l=u[1],f=k().map,p=d(),v=p.container,m=p.Portal;return(0,a.useEffect)((function(){if(AMap&&f&&!c){e.children&&(o.text=v.innerHTML);var n=new AMap.Text((0,s.Z)({},o));return f.add(n),l(n),function(){n&&(n.remove(),l(void 0))}}}),[f]),(0,a.useEffect)((function(){c&&c.setText(e.children?v.innerHTML:e.text||"")}),[e.children,e.text,v,c]),M(c,n),h(c,e,["Style","Title","Clickable","Draggable","Map","Position","Offset","Angle","zIndex","Top","Cursor","ExtData"]),A(c,e,["onMoving","onTouchMove","onTouchEnd","onMoveaLong","onTouchStart","onMoveEnd","onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragEnd","onDragging"]),{text:c,setText:l,TextPortal:m}},He=(0,a.forwardRef)((function(e,n){var o=De((0,s.Z)({},e)),t=o.text,r=o.TextPortal;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{text:t})})),e.children?(0,u.jsx)(r,{children:e.children}):null}));function ze(e){void 0===e&&(e={});var n=(0,a.useState)(),o=(0,t.Z)(n,2),r=o[0],i=o[1],u=e,c=u.position,l=u.visiable,s=u.offset,f=k().map;return(0,a.useEffect)((function(){var e;if(f&&!r)return f.plugin(["AMap.ToolBar"],(function(){e=new AMap.ToolBar({offset:s,position:c}),f.addControl(e),i(e)})),function(){e&&f.removeControl(e)}}),[f]),M(r,l),{toolBarControl:r,setToolBarControl:i}}var Be=a.forwardRef((function(e,n){var o=ze(e).toolBarControl;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{toolBarControl:o})}),[o]),null})),Ne=function(e){void 0===e&&(e={});var n=e,o=n.city,r=void 0===o?"":o,i=n.type,u=void 0===i?"live":i,c=n.onComplete,l=n.onError,s=(0,a.useState)(),f=(0,t.Z)(s,2),p=f[0],d=f[1],v="live"===u?"getLive":"getForecast";return(0,a.useEffect)((function(){var e;if(AMap&&!p)return AMap.plugin(["AMap.Weather"],(function(){e=new AMap.Weather,d(e)})),function(){e&&d(void 0)}}),[]),(0,a.useMemo)((function(){var e;p&&r&&u&&(e=p,u&&r&&/^(live|forecast)$/.test(u)&&e[v](r,(function(e,n){e&&l?l(e):n&&c&&c(n)})))}),[p,r,u]),{weather:p,setWeather:d}},je=a.forwardRef((function(e,n){var o=Ne(e).weather;return(0,a.useImperativeHandle)(n,(function(){return(0,s.Z)({},e,{weather:o})})),null}))}}]);
//# sourceMappingURL=8382.c010e49c.chunk.js.map