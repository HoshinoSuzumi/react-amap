"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3609],{3609:function(e,n,o){o.r(n),o.d(n,{APILoader:function(){return M},AutoComplete:function(){return S},BezierCurve:function(){return j},Circle:function(){return _},CircleMarker:function(){return G},Context:function(){return R},ContextMenu:function(){return J},ControlBarControl:function(){return X},Ellipse:function(){return ne},Geolocation:function(){return re},HawkEyeControl:function(){return ue},InfoWindow:function(){return se},Map:function(){return B},MapTypeControl:function(){return de},Marker:function(){return me},MassMarks:function(){return we},Polygon:function(){return ke},PolygonEditor:function(){return Ze},Polyline:function(){return be},Provider:function(){return z},Rectangle:function(){return Te},ScaleControl:function(){return De},Text:function(){return Oe},ToolBarControl:function(){return ze},Weather:function(){return Le},delay:function(){return v},initialState:function(){return I},reducer:function(){return D},requireCss:function(){return f},requireScript:function(){return p},useAutoComplete:function(){return b},useBezierCurve:function(){return W},useCircle:function(){return N},useCircleMarker:function(){return Q},useContextMenu:function(){return q},useControlBarControl:function(){return K},useEllipse:function(){return ee},useEventProperties:function(){return y},useGeolocation:function(){return te},useHawkEyeControl:function(){return ae},useInfoWindow:function(){return le},useMap:function(){return O},useMapContext:function(){return P},useMapTypeControl:function(){return pe},useMarker:function(){return Me},useMassMarks:function(){return Ce},usePolygon:function(){return ge},usePolyline:function(){return Ae},usePortal:function(){return E},usePrevious:function(){return Z},useRectangle:function(){return xe},useScaleControl:function(){return Ie},useSetStatus:function(){return g},useSettingProperties:function(){return A},useText:function(){return Pe},useToolBarControl:function(){return He},useVisiable:function(){return k},useWeather:function(){return Be}});var t=o(1092),r=o(2951),i=o(1976),a=o(7591),u=o(9616),c=o(7791),l=o(1473),s={};function f(e,n){void 0===n&&(n="_react_amap_css");var o=document&&(document.head||document.getElementsByTagName("head")[0]),t=document.getElementById(n);return new Promise((function(r,i){if(!document||e in s||t)r();else{var a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.id=n,a.href=e,a.onerror=function(n){o.removeChild(a),i(new URIError("The css "+e+" is no accessible."))},a.onload=function(){s[e]=!0,r()},o.appendChild(a)}}))}function p(e,n){void 0===n&&(n="_react_amap_plugin");var o=document&&(document.head||document.getElementsByTagName("head")[0]),t=document.getElementById(n);return new Promise((function(r,i){if(!document||e in s||t)r();else{var a=document.createElement("script");a.type="text/javascript",a.id=n,a.async=!0,a.defer=!0,a.src=e,a.onerror=function(n){o.removeChild(a),i(new URIError("The Script "+e+" is no accessible."))},a.onload=function(){s[e]=!0,r()},o.appendChild(a)}}))}var d=o(9286);function v(e){return new Promise((function(n,o){window.setTimeout(n,e)}))}var M=function(e){(0,a.Z)(o,e);var n=(0,u.Z)(o);function o(e){var t;if((0,r.Z)(this,o),(t=n.call(this,e)).isMountedOk=!1,t.state={loaded:!!window.AMap},t.handleError=function(e){t.isMountedOk&&t.setState({error:e})},t.finish=function(){t.isMountedOk&&t.setState({loaded:!0})},null===e.akay)throw new TypeError("AMap: akay is required");return t}return(0,i.Z)(o,[{key:"componentDidMount",value:function(){this.isMountedOk=!0;var e=this.props.callbackName;if(null==window.AMap){if(window[e])return void o.waitQueue.push([this.finish,this.handleError]);this.loadMap()}}},{key:"componentWillUnmount",value:function(){this.isMountedOk=!1}},{key:"render",value:function(){return this.state.loaded?this.props.children:this.props.fallback?this.props.fallback(this.state.error):this.state.error?(0,d.jsx)("div",{style:{color:"red"},children:this.state.error.message}):null}},{key:"getScriptSrc",value:function(){var e=this.props,n=e.protocol||window.location.protocol;-1===n.indexOf(":")&&(n+=":");var o="";return e.plugin&&(o="&plugin="+e.plugin),n+"//"+e.hostAndPath+"?v="+e.version+"&key="+e.akay+"&callback="+e.callbackName+o}},{key:"loadMap",value:function(){var e=this;return(0,c.Z)((0,t.Z)().mark((function n(){var r,i,a,u;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.props.callbackName,i=e.getScriptSrc(),window[r]=function(){var n=o.waitQueue;o.waitQueue=[],n.forEach((function(e){return e[0]()})),e.finish()},a=0;case 4:if(!(a<3)){n.next=22;break}return n.prev=5,n.next=8,p(i);case 8:return n.abrupt("break",22);case 11:if(n.prev=11,n.t0=n.catch(5),2!==a){n.next=17;break}if("object"!==typeof(u=function(){var t=new Error("Failed to load AMap: "+n.t0.message),r=o.waitQueue;return o.waitQueue=[],r.forEach((function(e){return e[1](t)})),e.handleError(t),{v:void 0}}())){n.next=17;break}return n.abrupt("return",u.v);case 17:return n.next=19,v(1e3*a);case 19:a++,n.next=4;break;case 22:case"end":return n.stop()}}),n,null,[[5,11]])})))()}}]),o}(l.Component);M.defaultProps={protocol:/^file:/.test(window.location.protocol)?"https":window.location.protocol,akay:"",hostAndPath:"webapi.amap.com/maps",version:"2.0",callbackName:"load_amap_sdk",plugin:""},M.waitQueue=[];var m=o(5773),h=o(1026),C=o(4649),w=o(7510),E=function(){var e=l.useState((function(){return document.createElement("div")})),n=(0,h.Z)(e,1)[0],o=(0,l.useState)({render:function(){return null},remove:function(){return null}}),t=(0,h.Z)(o,2),r=t[0],i=t[1],a=l.useCallback((function(e){return{render:function(n){var o=n.children;return o?(0,w.createPortal)(o,e):null},remove:function(e){e&&(0,w.unmountComponentAtNode)(e)}}}),[]);return(0,l.useEffect)((function(){n&&r.remove();var e=a(n);return i(e),function(){e.remove(n)}}),[n]),{Portal:r.render,container:n}};function g(e,n,o){void 0===n&&(n={}),void 0===o&&(o=[]),o.forEach((function(o){var t=o,r=(0,l.useState)(n[t]),i=(0,h.Z)(r,2),a=i[0],u=i[1];(0,l.useEffect)((function(){if(e&&void 0!==n[t]&&n[t]!==a){var o=e.getStatus();e.setStatus((0,m.Z)({},o,(0,C.Z)({},t,n[t]))),u(n[t])}}),[e,n[t]])}))}function k(e,n){var o=(0,l.useState)(n),t=(0,h.Z)(o,2),r=t[0],i=t[1];(0,l.useEffect)((function(){e&&void 0!==n&&(n?e.show&&e.show():e.hide&&e.hide(),n!==r&&i(n))}),[e,n])}function Z(e){var n=(0,l.useRef)();return(0,l.useEffect)((function(){n.current=e})),n.current}function y(e,n,o,t){void 0===n&&(n={}),void 0===o&&(o=[]),o.forEach((function(o){var t=o,r=n[t];(0,l.useEffect)((function(){if(e){var n=o.toLocaleLowerCase().replace(/^on/,"");return r&&n&&e.on(n,r),function(){n&&r&&e.off(n,r)}}}),[e,n[t]])}))}function A(e,n,o){void 0===e&&(e={}),void 0===n&&(n={}),void 0===o&&(o=[]),o.forEach((function(o){var t="set"+o,r=""+o.charAt(0).toLowerCase()+o.slice(1),i=(0,l.useState)(n[r]),a=(0,h.Z)(i,2),u=a[0],c=a[1];(0,l.useEffect)((function(){e&&void 0!==n[r]&&n[r]!==u&&e[t]&&"function"===typeof e[t]&&(e[t](n[r]),c(n[r]))}),[e,n[r]])}))}var b=function(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,h.Z)(n,2),t=o[0],r=o[1];return(0,l.useEffect)((function(){var n;if(AMap&&!t)return AMap.plugin(["AMap.AutoComplete"],(function(){n=new AMap.AutoComplete(e),r(n)})),function(){n&&r(void 0)}}),[]),A(t,e,["Type","City","CityLimit"]),y(t,e,["onChoose","onSelect"]),{autoComplete:t,setAutoComplete:r}},S=l.forwardRef((function(e,n){var o=b(e).autoComplete;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{autoComplete:o})})),null})),x=o(808),T=o(2769),I={map:void 0,AMap:void 0,container:void 0},D=function(e,n){return(0,m.Z)({},e,n)},R=l.createContext({state:I,dispatch:function(){return null}});function P(){var e=(0,l.useContext)(R),n=e.state,o=e.dispatch;return(0,m.Z)({},n,{state:n,dispatch:o})}var O=function(e){void 0===e&&(e={});var n=(0,m.Z)({},((0,T.Z)(e),e)),o=(0,l.useState)(),t=(0,h.Z)(o,2),r=t[0],i=t[1],a=(0,l.useState)(e.zoom||15),u=(0,h.Z)(a,2),c=u[0],s=u[1],f=(0,l.useState)(e.container),p=(0,h.Z)(f,2),d=p[0],v=p[1],M=(0,l.useContext)(R).dispatch;return(0,l.useEffect)((function(){if(d&&!r&&AMap){d.className=d.className+" react-amap-wapper";var e=new AMap.Map(d,(0,m.Z)({zoom:c},n));i(e)}return function(){r&&(r.clearInfoWindow(),r.clearLimitBounds(),r.clearMap(),r.destroy(),i(void 0))}}),[d,r]),(0,l.useEffect)((function(){return r&&d&&M({map:r,container:d,AMap:AMap}),function(){M({map:void 0,container:void 0,AMap:void 0})}}),[r,d]),(0,l.useMemo)((function(){r&&"number"===typeof e.zoom&&c!==e.zoom&&e.zoom>=2&&e.zoom<=20&&(s(e.zoom),r.setZoom(e.zoom))}),[c,e.zoom]),(0,l.useMemo)((function(){e.center&&r&&r.setCenter(e.center)}),[r,e.center]),g(r,e,["dragEnable","zoomEnable","jogEnable","pitchEnable","rotateEnable","animateEnable","keyboardEnable"]),A(r,e,["Zoom","LabelzIndex","Layers","City","Bounds","LimitBounds","Lang","Rotation","DefaultCursor","MapStyle","Features","DefaultLayer","Pitch"]),y(r,e,["onMouseMove","onZoomChange","onMapMove","onMouseWheel","onZoomStart","onMouseOver","onMouseOut","onDblClick","onClick","onZoomEnd","onMoveEnd","onMouseUp","onMouseDown","onRightClick","onMoveStart","onDragStart","onDragging","onDragEnd","onHotspotOut","onHotspotOver","onTouchStart","onComplete","onHotspotClick","onTouchMove","onTouchEnd","onResize"]),{map:r,setMap:i,zoom:c,setZoom:s,container:d,setContainer:v}},H=["className","children"],z=function(e){var n=(0,l.useReducer)(D,I),o=(0,h.Z)(n,2),t=o[0],r=o[1];return(0,d.jsx)(R.Provider,{value:(0,m.Z)({},t,{state:t,dispatch:r}),children:e.children})},B=(0,l.forwardRef)((function(e,n){var o=e.className,t=e.children,r=(0,x.Z)(e,H),i=(0,l.useReducer)(D,I),a=(0,h.Z)(i,2),u=a[0],c=a[1],s=(0,l.useRef)(null),f=O((0,m.Z)({container:r.container||s.current},r)),p=f.setContainer,v=f.container,M=f.map;(0,l.useEffect)((function(){return p(s.current)}),[s.current]),(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},r,{map:M,AMap:AMap,container:r.container||s.current})}),[M]);var C=l.Children.toArray(t);return(0,l.useEffect)((function(){M&&c({map:M,container:s.current,AMap:AMap})}),[M]),(0,d.jsxs)(R.Provider,{value:(0,m.Z)({},u,{state:u,dispatch:c}),children:[!r.container&&(0,d.jsx)("div",{ref:s,className:"react-amap-wapper "+o,style:(0,m.Z)({fontSize:1,width:"100%",height:"100%"},r.style)}),AMap&&M&&"function"===typeof t&&t({AMap:AMap,map:M,container:v}),AMap&&M&&C.map((function(e,n){return(0,l.isValidElement)(e)?"string"===typeof e?(0,l.cloneElement)((0,d.jsx)(l.Fragment,{children:e}),{key:n}):e.type&&"string"===typeof e.type?(0,l.cloneElement)(e,{key:n}):(0,l.cloneElement)(e,(0,m.Z)({},e.props,{AMap:AMap,map:M,container:v,key:n})):null}))]})})),L=["visiable"],W=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,x.Z)(e,L),t=P().map,r=(0,l.useState)(),i=(0,h.Z)(r,2),a=i[0],u=i[1];return(0,l.useEffect)((function(){if(AMap&&t&&!a){var e=new AMap.BezierCurve((0,m.Z)({},o));return t.add(e),u(e),function(){e&&(t&&t.removeLayer(e),u(void 0))}}}),[t]),k(a,n),A(a,e,["Options","Path","ExtData","ExtData"]),y(a,e,["onHide","onShow","onDblClick","onMouseOver","onMouseUp","onMouseDown","onclick","onTouchEnd","onTouchMove","onTouchStart","onRightClick","onMouseOut"]),{bezierCurve:a,setBezierCurve:u}},j=l.forwardRef((function(e,n){var o=W(e).bezierCurve;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{bezierCurve:o})})),null})),U=["visiable"],N=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,x.Z)(e,U),t=P().map,r=(0,l.useState)(),i=(0,h.Z)(r,2),a=i[0],u=i[1];return(0,l.useEffect)((function(){if(AMap&&t&&!a){var e=new AMap.Circle((0,m.Z)({},o));t.add(e),u(e)}return function(){a&&(t&&t.remove(a),u(void 0))}}),[t]),k(a,n),A(a,e,["Center","Raius","Options","ExtData"]),y(a,e,["onHide","onShow","onRightClick","onClick","onTouchEnd","onDblClick","onTouchMove","onTouchStart","onMouseOut","onMouseOver","onMouseUp","onMouseDown"]),{circle:a,setCircle:u}},_=l.forwardRef((function(e,n){var o=N(e).circle;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{circle:o})})),null})),F=["visiable"],Q=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,x.Z)(e,F),t=P().map,r=(0,l.useState)(),i=(0,h.Z)(r,2),a=i[0],u=i[1];return(0,l.useEffect)((function(){if(AMap&&t&&!a){var e=new AMap.CircleMarker((0,m.Z)({},o));return t.add(e),u(e),function(){e&&(t&&t.removeLayer(e),u(void 0))}}}),[t]),k(a,n),A(a,e,["Center","Raius","zIndex","Bubble","Cursor","StrokeColor","StrokeOpacity","StrokeWeight","FillColor","FillOpacity","Draggable","ExtData"]),y(a,e,["onHide","onShow","onMouseover","onTouchend","onClick","onTouchmove","onRightclick","onMouseup","onMouseout","onTouchstart","onMousedown","onDblclick"]),{circleMarker:a,setCircleMarker:u}},G=l.forwardRef((function(e,n){var o=Q(e).circleMarker;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{circleMarker:o})})),null})),V=["position"],q=function(e){void 0===e&&(e={});var n=e.position,o=(0,x.Z)(e,V),t=P().map,r=(0,l.useState)(),i=(0,h.Z)(r,2),a=i[0],u=i[1];return(0,l.useEffect)((function(){if(AMap&&t&&!a){var e=new AMap.ContextMenu((0,m.Z)({},o));u(e);var r=function(o){return e.open(t,n||o.lnglat)};return t.on("rightclick",r),function(){e&&(t.off("rightclick",r),t&&t.removeLayer(e),u(void 0))}}}),[t]),y(a,e,["onOpen","onClose"]),{contextMenu:a,setContextMenu:u}},$=function(){},J=l.forwardRef((function(e,n){var o=q(e).contextMenu;(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{contextMenu:o})}));var t=l.Children.toArray(e.children);return(0,d.jsx)(l.Fragment,{children:AMap&&o&&t.map((function(n,t){return l.isValidElement(n)?l.cloneElement(n,(0,m.Z)({},n.props,{AMap:AMap,map:e.map,contextMenu:o,key:t})):null}))})}));function K(e){void 0===e&&(e={});var n=e,o=n.position,t=n.visiable,r=n.offset,i=(0,l.useState)(),a=(0,h.Z)(i,2),u=a[0],c=a[1],s=P().map;return(0,l.useEffect)((function(){var e;if(s&&!u)return s.plugin(["AMap.ControlBar","AMap.HawkEye"],(function(){e=new AMap.ControlBar({offset:r,position:o}),s.addControl(e),c(e)})),function(){e&&s.removeControl(e)}}),[s]),k(u,t),{controlBarControl:u,setControlBarControl:c}}J.Item=function(e){void 0===e&&(e={});var n=e,o=n.text,t=void 0===o?"":o,r=n.onClick,i=void 0===r?$:r;return(0,l.useEffect)((function(){return e.contextMenu&&e.contextMenu.addItem(t,i,1),function(){e.contextMenu&&e.contextMenu.removeItem(t,i)}}),[e.contextMenu,e.text,e.onClick]),null};var X=l.forwardRef((function(e,n){var o=K(e).controlBarControl;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{controlBarControl:o})}),[o]),null})),Y=["visiable"],ee=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,x.Z)(e,Y),t=P().map,r=(0,l.useState)(),i=(0,h.Z)(r,2),a=i[0],u=i[1];return(0,l.useEffect)((function(){if(AMap&&t&&!a){var e=new AMap.Ellipse((0,m.Z)({},o));return t.add(e),u(e),function(){e&&(t&&t.removeLayer(e),u(void 0))}}}),[t]),k(a,n),A(a,e,["Center","Radius","Options","ExtData"]),y(a,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{ellipse:a,setEllipse:u}},ne=l.forwardRef((function(e,n){var o=ee(e).ellipse;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{ellipse:o})})),null})),oe=["type","onComplete","onError"],te=function(e){void 0===e&&(e={});var n=e,o=n.type,t=void 0===o?"position":o,r=n.onComplete,i=n.onError,a=(0,x.Z)(e,oe),u=(0,l.useState)(),c=(0,h.Z)(u,2),s=c[0],f=c[1],p=P().map;function d(e,n){"complete"===e&&r?r(n):i&&i(n)}return(0,l.useEffect)((function(){var e;if(AMap&&!s)return AMap.plugin(["AMap.Geolocation"],(function(){e=new AMap.Geolocation((0,m.Z)({},a)),f(e)})),function(){e&&f(void 0)}}),[AMap]),(0,l.useMemo)((function(){if(/^(position|cityInfo)$/.test(t)){var e="position"===t?"getCurrentPosition":"getCityInfo";s&&p?(s[e](d),p.addControl(s)):s&&s[e](d)}}),[s]),{geolocation:s,setGeolocation:f}},re=l.forwardRef((function(e,n){var o=te(e).geolocation;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{geolocation:o})})),null})),ie=["offset","visiable"];function ae(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,h.Z)(n,2),t=o[0],r=o[1],i=e,a=i.offset,u=i.visiable,c=(0,x.Z)(e,ie),s=P().map;return(0,l.useEffect)((function(){var e;if(s&&!t)return s.plugin(["AMap.HawkEye"],(function(){e=new AMap.HawkEye((0,m.Z)({offset:a},c)),s.addControl(e),r(e)})),function(){e&&s&&(s.removeLayer(e),r(void 0))}}),[s]),k(t,u),{hawkEyeControl:t,setHawkEyeControl:r}}var ue=l.forwardRef((function(e,n){var o=ae(e).hawkEyeControl;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{hawkEyeControl:o})}),[o]),null})),ce=["visiable","position"],le=function(e){void 0===e&&(e={});var n=e,o=n.visiable,t=n.position,r=(0,x.Z)(e,ce),i=P().map,a=(0,l.useState)(o),u=(0,h.Z)(a,2),c=u[0],s=u[1],f=(0,l.useState)(),p=(0,h.Z)(f,2),d=p[0],v=p[1],M=E(),C=M.container,w=M.Portal;return(0,l.useEffect)((function(){if(AMap&&i&&!d){var n=i.getCenter();e.children&&(r.content=C);var o=new AMap.InfoWindow((0,m.Z)({},r,{position:t||n}));return v(o),c&&o.open(i,t||n),function(){o&&(i&&i.remove(o),v(void 0))}}}),[i]),(0,l.useEffect)((function(){d&&d.setContent(e.children?C:r.content||"")}),[e.children,C,r.content,d]),(0,l.useMemo)((function(){if(c!==o&&d&&i)if(s(o),o){var e=i.getCenter();d.open(i,t||e)}else d.close()}),[o,d]),(0,l.useEffect)((function(){if(i&&d&&o){var e=i.getCenter();d.open(i,t||e)}}),[t]),A(d,e,["Content","Anchor","Size"]),y(d,e,["onOpen","onClose","onChange"]),{isOpen:c,setIsOpen:s,infoWindow:d,setInfoWindow:v,InfoWindowPortal:w}},se=l.forwardRef((function(e,n){var o=le(e),t=o.infoWindow,r=o.InfoWindowPortal;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{infoWindow:t})})),(0,d.jsx)(r,{children:e.children})})),fe=["visiable","defaultType"];function pe(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,h.Z)(n,2),t=o[0],r=o[1],i=e,a=i.visiable,u=i.defaultType,c=void 0===u?0:u,s=(0,x.Z)(e,fe),f=P().map;return(0,l.useEffect)((function(){var e;if(f&&!t)return f.plugin(["AMap.MapType"],(function(){e=new AMap.MapType((0,m.Z)({defaultType:c},s)),f.addControl(e),r(e)})),function(){e&&f.removeControl(e)}}),[f]),k(t,a),{mapTypeControl:t,setMapTypeControl:r}}var de=l.forwardRef((function(e,n){var o=pe(e).mapTypeControl;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{mapTypeControl:o})}),[o]),null})),ve=["visiable","children"],Me=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,x.Z)(e,ve),t=P().map,r=(0,l.useState)(),i=(0,h.Z)(r,2),a=i[0],u=i[1],c=E(),s=c.container,f=c.Portal;return(0,l.useEffect)((function(){if(!a&&t){e.children&&(o.content=s);var n=new AMap.Marker((0,m.Z)({},o));t.add(n),u(n)}return function(){a&&(a.setMap(null),u(void 0))}}),[t,a]),k(a,n),A(a,e,["Path","Anchor","Offset","Animation","Clickable","Position","Angle","Label","zIndex","Icon","Draggable","Cursor","Content","Map","Title","Top","Shadow","Shape","ExtData"]),y(a,e,["onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragging","onDragEnd","onMoving","onMoveEnd","onMoveAlong","onTouchStart","onTouchMove","onTouchEnd"]),{marker:a,setMarker:u,MarkerPortal:f}},me=(0,l.forwardRef)((function(e,n){var o=Me(e),t=o.marker,r=o.MarkerPortal;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{marker:t})}),[t]),(0,d.jsx)(r,{children:e.children})})),he=["visiable"],Ce=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,x.Z)(e,he),t=P().map,r=o||{},i=r.opacity,a=void 0===i?.8:i,u=r.zIndex,c=void 0===u?1111:u,s=r.style,f=r.data,p=(0,l.useState)(),d=(0,h.Z)(p,2),v=d[0],M=d[1];return(0,l.useEffect)((function(){if(AMap&&t&&!v){var e=s;e||(e=[{url:"https://webapi.amap.com/images/mass/mass0.png",anchor:new AMap.Pixel(6,6),size:new AMap.Size(11,11),zIndex:3},{url:"https://webapi.amap.com/images/mass/mass1.png",anchor:new AMap.Pixel(4,4),size:new AMap.Size(7,7),zIndex:2},{url:"https://webapi.amap.com/images/mass/mass2.png",anchor:new AMap.Pixel(3,3),size:new AMap.Size(5,5),zIndex:1}]);var n=new AMap.MassMarks(f||[],{opacity:a,zIndex:c,style:e});return M(n),n.setMap(t),function(){n&&(n.clear(),M(void 0))}}}),[t]),k(v,n),A(v,e,["Map","Data","Style","Opacity","zIndex","Zooms"]),y(v,e,["onClick","onDblClick","onMouseMove","onMouseOut","onMouseUp","onMouseDown","onMouseOver","onTouchStart","onTouchEnd"]),{massMarks:v,setMassMarks:M}},we=l.forwardRef((function(e,n){var o=Ce(e).massMarks;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{massMarks:o})}),[o,e]),null})),Ee=["visiable"],ge=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,x.Z)(e,Ee),t=P().map,r=(0,l.useState)(),i=(0,h.Z)(r,2),a=i[0],u=i[1];return(0,l.useEffect)((function(){if(AMap&&t&&!a){var e=new AMap.Polygon((0,m.Z)({},o));t.add(e),u(e)}}),[t]),k(a,n),A(a,e,["ExtData","ExtData"]),y(a,e,["onClick","onDblClick","onRightClick","onHide","onShow","onMouseDown","onMouseUp","onMouseOver","onMouseOut","onChange","onTouchStart","onTouchMove","onTouchEnd"]),{polygon:a,setPolygon:u}},ke=(0,l.forwardRef)((function(e,n){var o=e.children,t=ge(e).polygon;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{polygon:t})})),o&&(0,l.isValidElement)(o)&&t?(0,l.cloneElement)(o,Object.assign(e,{polygon:t})):null})),Ze=(0,l.forwardRef)((function(e,n){var o=e.active,t=e.polygon,r=P().map,i=(0,l.useState)(!0),a=(0,h.Z)(i,2),u=a[0],c=a[1],s=(0,l.useState)(),f=(0,h.Z)(s,2),p=f[0],d=f[1];return(0,l.useEffect)((function(){if(t&&r&&!p&&AMap&&AMap.PolygonEditor){var e=new AMap.PolygonEditor(r,t);t.on("hide",(function(){return c(!1)})),t.on("show",(function(){return c(!0)})),d(e)}}),[t]),(0,l.useEffect)((function(){p&&(u&&!o?p.close():u&&o?p.open():!u&&o&&p.close())}),[o,u]),y(p,e,["onEnd","onAddnode","onAdjust","onMove","onAdd"]),null})),ye=["visiable"];function Ae(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,h.Z)(n,2),t=o[0],r=o[1],i=e.visiable,a=(0,x.Z)(e,ye),u=P().map;return(0,l.useEffect)((function(){if(u&&!t){var e=new AMap.Polyline((0,m.Z)({},a));return u.add(e),r(e),function(){e&&(u&&u.removeLayer(e),r(void 0))}}}),[u]),k(t,i),A(t,e,["Path","Options","Map","ExtData"]),y(t,e,["onHide","onShow","onMouseOut","onChange","onRightClick","onDblClick","onMouseDown","onClick","onMouseOver","onTouchEnd","onTouchMove","onTouchStart","onMouseUp"]),{polyline:t,setPolyline:r}}var be=l.forwardRef((function(e,n){var o=Ae(e).polyline;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{polyline:o})}),[o]),null})),Se=["visiable"],xe=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,x.Z)(e,Se),t=P().map,r=(0,l.useState)(),i=(0,h.Z)(r,2),a=i[0],u=i[1];return(0,l.useEffect)((function(){if(AMap&&t&&!a){var e=new AMap.Rectangle((0,m.Z)({},o));return t.add(e),u(e),function(){e&&(t&&t.removeLayer(e),u(void 0))}}}),[t]),k(a,n),A(a,e,["Bounds","Options","Map","ExtData"]),y(a,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{rectangle:a,setRectangle:u}},Te=l.forwardRef((function(e,n){var o=xe(e).rectangle;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{rectangle:o})})),null}));function Ie(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,h.Z)(n,2),t=o[0],r=o[1],i=e,a=i.position,u=i.visiable,c=i.offset,s=P().map;return(0,l.useEffect)((function(){var e;if(s&&!t)return s.plugin(["AMap.Scale"],(function(){e=new AMap.Scale({offset:c,position:a}),s.addControl(e),r(e)})),function(){e&&s.removeControl(e)}}),[s]),k(t,u),{scaleControl:t,setScaleControl:r}}var De=l.forwardRef((function(e,n){var o=Ie(e).scaleControl;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{scaleControl:o})}),[o]),null})),Re=["visiable"],Pe=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,x.Z)(e,Re),t=(0,l.useState)(),r=(0,h.Z)(t,2),i=r[0],a=r[1],u=P().map,c=E(),s=c.container,f=c.Portal;return(0,l.useEffect)((function(){if(AMap&&u&&!i){e.children&&(o.text=s.innerHTML);var n=new AMap.Text((0,m.Z)({},o));return u.add(n),a(n),function(){n&&(n.remove(),a(void 0))}}}),[u]),(0,l.useEffect)((function(){i&&i.setText(e.children?s.innerHTML:e.text||"")}),[e.children,e.text,s,i]),k(i,n),A(i,e,["Style","Title","Clickable","Draggable","Map","Position","Offset","Angle","zIndex","Top","Cursor","ExtData"]),y(i,e,["onMoving","onTouchMove","onTouchEnd","onMoveaLong","onTouchStart","onMoveEnd","onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragEnd","onDragging"]),{text:i,setText:a,TextPortal:f}},Oe=(0,l.forwardRef)((function(e,n){var o=Pe((0,m.Z)({},e)),t=o.text,r=o.TextPortal;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{text:t})})),e.children?(0,d.jsx)(r,{children:e.children}):null}));function He(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,h.Z)(n,2),t=o[0],r=o[1],i=e,a=i.position,u=i.visiable,c=i.offset,s=P().map;return(0,l.useEffect)((function(){var e;if(s&&!t)return s.plugin(["AMap.ToolBar"],(function(){e=new AMap.ToolBar({offset:c,position:a}),s.addControl(e),r(e)})),function(){e&&s.removeControl(e)}}),[s]),k(t,u),{toolBarControl:t,setToolBarControl:r}}var ze=l.forwardRef((function(e,n){var o=He(e).toolBarControl;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{toolBarControl:o})}),[o]),null})),Be=function(e){void 0===e&&(e={});var n=e,o=n.city,t=void 0===o?"":o,r=n.type,i=void 0===r?"live":r,a=n.onComplete,u=n.onError,c=(0,l.useState)(),s=(0,h.Z)(c,2),f=s[0],p=s[1],d="live"===i?"getLive":"getForecast";return(0,l.useEffect)((function(){var e;if(AMap&&!f)return AMap.plugin(["AMap.Weather"],(function(){e=new AMap.Weather,p(e)})),function(){e&&p(void 0)}}),[]),(0,l.useMemo)((function(){var e;f&&t&&i&&(e=f,i&&t&&/^(live|forecast)$/.test(i)&&e[d](t,(function(e,n){e&&u?u(e):n&&a&&a(n)})))}),[f,t,i]),{weather:f,setWeather:p}},Le=l.forwardRef((function(e,n){var o=Be(e).weather;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{weather:o})})),null}))}}]);
//# sourceMappingURL=3609.4a5f6485.chunk.js.map