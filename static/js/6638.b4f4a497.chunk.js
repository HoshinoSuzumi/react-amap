"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6638],{6638:function(e,n,o){o.r(n),o.d(n,{APILoader:function(){return M},AutoComplete:function(){return T},BezierCurve:function(){return U},Circle:function(){return F},CircleMarker:function(){return Q},Context:function(){return O},ContextMenu:function(){return K},ControlBarControl:function(){return J},Ellipse:function(){return ne},Geolocation:function(){return re},HawkEyeControl:function(){return ue},InfoWindow:function(){return se},LabelMarker:function(){return ye},Map:function(){return z},MapTypeControl:function(){return ve},Marker:function(){return Ce},MassMarks:function(){return Ze},MouseTool:function(){return De},MouseToolDrawType:function(){return Oe},PolyEditor:function(){return Re},Polygon:function(){return Te},PolygonEditor:function(){return Se},Polyline:function(){return Le},PolylineEditor:function(){return Pe},Provider:function(){return H},Rectangle:function(){return Be},ScaleControl:function(){return Ue},Text:function(){return Fe},TileLayer:function(){return me},TileLayerType:function(){return pe},ToolBarControl:function(){return _e},Weather:function(){return Ye},delay:function(){return v},initialState:function(){return x},reducer:function(){return I},requireCss:function(){return f},requireScript:function(){return d},useAutoComplete:function(){return b},useBezierCurve:function(){return N},useCircle:function(){return j},useCircleMarker:function(){return _},useContextMenu:function(){return V},useControlBarControl:function(){return $},useEllipse:function(){return ee},useEventProperties:function(){return Z},useGeolocation:function(){return te},useHawkEyeControl:function(){return ie},useInfoWindow:function(){return le},useMap:function(){return P},useMapContext:function(){return L},useMapTypeControl:function(){return de},useMarker:function(){return Ee},useMassMarks:function(){return ke},usePolygon:function(){return be},usePolyline:function(){return Ie},usePortal:function(){return w},usePrevious:function(){return k},useRectangle:function(){return ze},useScaleControl:function(){return Ne},useSetStatus:function(){return y},useSettingProperties:function(){return g},useText:function(){return je},useTileLayer:function(){return Me},useToolBarControl:function(){return Ge},useVisiable:function(){return A},useWeather:function(){return Qe}});var t=o(1092),r=o(2951),a=o(1976),i=o(7591),u=o(9616),c=o(7791),l=o(1473),s={};function f(e,n){void 0===n&&(n="_react_amap_css");var o=document&&(document.head||document.getElementsByTagName("head")[0]),t=document.getElementById(n);return new Promise((function(r,a){if(!document||e in s||t)r();else{var i=document.createElement("link");i.type="text/css",i.rel="stylesheet",i.id=n,i.href=e,i.onerror=function(n){o.removeChild(i),a(new URIError("The css "+e+" is no accessible."))},i.onload=function(){s[e]=!0,r()},o.appendChild(i)}}))}function d(e,n){void 0===n&&(n="_react_amap_plugin");var o=document&&(document.head||document.getElementsByTagName("head")[0]),t=document.getElementById(n);return new Promise((function(r,a){if(!document||e in s||t)r();else{var i=document.createElement("script");i.type="text/javascript",i.id=n,i.async=!0,i.defer=!0,i.src=e,i.onerror=function(n){o.removeChild(i),a(new URIError("The Script "+e+" is no accessible."))},i.onload=function(){s[e]=!0,r()},o.appendChild(i)}}))}var p=o(9286);function v(e){return new Promise((function(n,o){window.setTimeout(n,e)}))}var M=function(e){(0,i.Z)(o,e);var n=(0,u.Z)(o);function o(e){var t;if((0,r.Z)(this,o),(t=n.call(this,e)).isMountedOk=!1,t.state={loaded:!!window.AMap},t.handleError=function(e){t.isMountedOk&&t.setState({error:e})},t.finish=function(){t.isMountedOk&&t.setState({loaded:!0})},null===e.akay)throw new TypeError("AMap: akay is required");return t}return(0,a.Z)(o,[{key:"componentDidMount",value:function(){this.isMountedOk=!0;var e=this.props.callbackName;if(null==window.AMap){if(window[e])return void o.waitQueue.push([this.finish,this.handleError]);this.loadMap()}}},{key:"componentWillUnmount",value:function(){this.isMountedOk=!1}},{key:"render",value:function(){return this.state.loaded?this.props.children:this.props.fallback?this.props.fallback(this.state.error):this.state.error?(0,p.jsx)("div",{style:{color:"red"},children:this.state.error.message}):null}},{key:"getScriptSrc",value:function(){var e=this.props,n=e.protocol||window.location.protocol;-1===n.indexOf(":")&&(n+=":");var o="";return e.plugin&&(o="&plugin="+e.plugin),n+"//"+e.hostAndPath+"?v="+e.version+"&key="+e.akay+"&callback="+e.callbackName+o}},{key:"loadMap",value:function(){var e=this;return(0,c.Z)((0,t.Z)().mark((function n(){var r,a,i,u;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.props.callbackName,a=e.getScriptSrc(),window[r]=function(){var n=o.waitQueue;o.waitQueue=[],n.forEach((function(e){return e[0]()})),e.finish()},i=0;case 4:if(!(i<3)){n.next=22;break}return n.prev=5,n.next=8,d(a);case 8:return n.abrupt("break",22);case 11:if(n.prev=11,n.t0=n.catch(5),2!==i){n.next=17;break}if("object"!==typeof(u=function(){var t=new Error("Failed to load AMap: "+n.t0.message),r=o.waitQueue;return o.waitQueue=[],r.forEach((function(e){return e[1](t)})),e.handleError(t),{v:void 0}}())){n.next=17;break}return n.abrupt("return",u.v);case 17:return n.next=19,v(1e3*i);case 19:i++,n.next=4;break;case 22:case"end":return n.stop()}}),n,null,[[5,11]])})))()}}]),o}(l.Component);M.defaultProps={protocol:/^file:/.test(window.location.protocol)?"https":window.location.protocol,akay:"",hostAndPath:"webapi.amap.com/maps",version:"2.0",callbackName:"load_amap_sdk",plugin:""},M.waitQueue=[];var m=o(5773),h=o(1026),E=o(4649),C=o(7510),w=function(){var e=l.useState((function(){return document.createElement("div")})),n=(0,h.Z)(e,1)[0],o=(0,l.useState)({render:function(){return null},remove:function(){return null}}),t=(0,h.Z)(o,2),r=t[0],a=t[1],i=l.useCallback((function(e){return{render:function(n){var o=n.children;return o?(0,C.createPortal)(o,e):null},remove:function(e){e&&(0,C.unmountComponentAtNode)(e)}}}),[]);return(0,l.useEffect)((function(){n&&r.remove();var e=i(n);return a(e),function(){e.remove(n)}}),[n]),{Portal:r.render,container:n}};function y(e,n,o){void 0===n&&(n={}),void 0===o&&(o=[]),o.forEach((function(o){var t=o,r=(0,l.useState)(n[t]),a=(0,h.Z)(r,2),i=a[0],u=a[1];(0,l.useEffect)((function(){if(e&&void 0!==n[t]&&n[t]!==i){var o=e.getStatus();e.setStatus((0,m.Z)({},o,(0,E.Z)({},t,n[t]))),u(n[t])}}),[e,n[t]])}))}function A(e,n){var o=(0,l.useState)(n),t=(0,h.Z)(o,2),r=t[0],a=t[1];(0,l.useEffect)((function(){e&&void 0!==n&&(n?e.show&&e.show():e.hide&&e.hide(),n!==r&&a(n))}),[e,n])}function k(e){var n=(0,l.useRef)();return(0,l.useEffect)((function(){n.current=e})),n.current}function Z(e,n,o,t){void 0===n&&(n={}),void 0===o&&(o=[]),o.forEach((function(o){var t=o,r=n[t];(0,l.useEffect)((function(){if(e){var n=o.toLocaleLowerCase().replace(/^on/,"");return r&&n&&e.on(n,r),function(){n&&r&&e.off(n,r)}}}),[e,n[t]])}))}function g(e,n,o){void 0===e&&(e={}),void 0===n&&(n={}),void 0===o&&(o=[]),o.forEach((function(o){var t="set"+o,r=""+o.charAt(0).toLowerCase()+o.slice(1),a=(0,l.useState)(n[r]),i=(0,h.Z)(a,2),u=i[0],c=i[1];(0,l.useEffect)((function(){e&&void 0!==n[r]&&n[r]!==u&&e[t]&&"function"===typeof e[t]&&(e[t](n[r]),c(n[r]))}),[e,n[r]])}))}var b=function(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,h.Z)(n,2),t=o[0],r=o[1];return(0,l.useEffect)((function(){var n;if(AMap&&!t)return AMap.plugin(["AMap.AutoComplete"],(function(){n=new AMap.AutoComplete(e),r(n)})),function(){n&&r(void 0)}}),[]),g(t,e,["Type","City","CityLimit"]),Z(t,e,["onChoose","onSelect"]),{autoComplete:t,setAutoComplete:r}},T=l.forwardRef((function(e,n){var o=b(e).autoComplete;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{autoComplete:o})})),null})),S=o(808),R=o(2769),x={map:void 0,AMap:void 0,container:void 0},I=function(e,n){return(0,m.Z)({},e,n)},O=l.createContext({state:x,dispatch:function(){return null}});function L(){var e=(0,l.useContext)(O),n=e.state,o=e.dispatch;return(0,m.Z)({},n,{state:n,dispatch:o})}var P=function(e){void 0===e&&(e={});var n=(0,m.Z)({},((0,R.Z)(e),e)),o=(0,l.useState)(),t=(0,h.Z)(o,2),r=t[0],a=t[1],i=(0,l.useState)(e.zoom||15),u=(0,h.Z)(i,2),c=u[0],s=u[1],f=(0,l.useState)(e.container),d=(0,h.Z)(f,2),p=d[0],v=d[1],M=(0,l.useContext)(O).dispatch;return(0,l.useEffect)((function(){if(p&&!r&&AMap){p.className=p.className+" react-amap-wapper";var e=new AMap.Map(p,(0,m.Z)({zoom:c},n));a(e)}return function(){r&&(r.clearInfoWindow(),r.clearLimitBounds(),r.clearMap(),r.destroy(),a(void 0))}}),[p,r]),(0,l.useEffect)((function(){return r&&p&&M({map:r,container:p,AMap:AMap}),function(){M({map:void 0,container:void 0,AMap:void 0})}}),[r,p]),(0,l.useMemo)((function(){r&&"number"===typeof e.zoom&&c!==e.zoom&&e.zoom>=2&&e.zoom<=20&&(s(e.zoom),r.setZoom(e.zoom))}),[c,e.zoom]),(0,l.useMemo)((function(){e.center&&r&&r.setCenter(e.center)}),[r,e.center]),y(r,e,["dragEnable","zoomEnable","jogEnable","pitchEnable","rotateEnable","animateEnable","keyboardEnable"]),g(r,e,["Zoom","LabelzIndex","Layers","City","Bounds","LimitBounds","Lang","Rotation","DefaultCursor","MapStyle","Features","DefaultLayer","Pitch"]),Z(r,e,["onMouseMove","onZoomChange","onMapMove","onMouseWheel","onZoomStart","onMouseOver","onMouseOut","onDblClick","onClick","onZoomEnd","onMoveEnd","onMouseUp","onMouseDown","onRightClick","onMoveStart","onDragStart","onDragging","onDragEnd","onHotspotOut","onHotspotOver","onTouchStart","onComplete","onHotspotClick","onTouchMove","onTouchEnd","onResize"]),{map:r,setMap:a,zoom:c,setZoom:s,container:p,setContainer:v}},D=["className","children"],H=function(e){var n=(0,l.useReducer)(I,x),o=(0,h.Z)(n,2),t=o[0],r=o[1];return(0,p.jsx)(O.Provider,{value:(0,m.Z)({},t,{state:t,dispatch:r}),children:e.children})},z=(0,l.forwardRef)((function(e,n){var o=e.className,t=e.children,r=(0,S.Z)(e,D),a=(0,l.useReducer)(I,x),i=(0,h.Z)(a,2),u=i[0],c=i[1],s=(0,l.useRef)(null),f=P((0,m.Z)({container:r.container||s.current},r)),d=f.setContainer,v=f.container,M=f.map;(0,l.useEffect)((function(){return d(s.current)}),[s.current]),(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},r,{map:M,AMap:AMap,container:r.container||s.current})}),[M]);var E=l.Children.toArray(t);return(0,l.useEffect)((function(){M&&c({map:M,container:s.current,AMap:AMap})}),[M]),(0,p.jsxs)(O.Provider,{value:(0,m.Z)({},u,{state:u,dispatch:c}),children:[!r.container&&(0,p.jsx)("div",{ref:s,className:"react-amap-wapper "+o,style:(0,m.Z)({fontSize:1,width:"100%",height:"100%"},r.style)}),AMap&&M&&"function"===typeof t&&t({AMap:AMap,map:M,container:v}),AMap&&M&&E.map((function(e,n){return(0,l.isValidElement)(e)?"string"===typeof e?(0,l.cloneElement)((0,p.jsx)(l.Fragment,{children:e}),{key:n}):e.type&&"string"===typeof e.type?(0,l.cloneElement)(e,{key:n}):(0,l.cloneElement)(e,(0,m.Z)({},e.props,{AMap:AMap,map:M,container:v,key:n})):null}))]})})),B=["visiable"],N=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,S.Z)(e,B),t=L().map,r=(0,l.useState)(),a=(0,h.Z)(r,2),i=a[0],u=a[1];return(0,l.useEffect)((function(){if(AMap&&t&&!i){var e=new AMap.BezierCurve((0,m.Z)({},o));return t.add(e),u(e),function(){e&&(t&&t.removeLayer(e),u(void 0))}}}),[t]),A(i,n),g(i,e,["Options","Path","ExtData","ExtData"]),Z(i,e,["onHide","onShow","onDblClick","onMouseOver","onMouseUp","onMouseDown","onclick","onTouchEnd","onTouchMove","onTouchStart","onRightClick","onMouseOut"]),{bezierCurve:i,setBezierCurve:u}},U=l.forwardRef((function(e,n){var o=N(e).bezierCurve;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{bezierCurve:o})})),null})),W=["visiable"],j=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,S.Z)(e,W),t=L().map,r=(0,l.useState)(),a=(0,h.Z)(r,2),i=a[0],u=a[1];return(0,l.useEffect)((function(){if(AMap&&t&&!i){var e=new AMap.Circle((0,m.Z)({},o));t.add(e),u(e)}return function(){i&&(t&&t.remove(i),u(void 0))}}),[t]),A(i,n),g(i,e,["Center","Raius","Options","ExtData"]),Z(i,e,["onHide","onShow","onRightClick","onClick","onTouchEnd","onDblClick","onTouchMove","onTouchStart","onMouseOut","onMouseOver","onMouseUp","onMouseDown"]),{circle:i,setCircle:u}},F=l.forwardRef((function(e,n){var o=j(e).circle;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{circle:o})})),null})),G=["visiable"],_=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,S.Z)(e,G),t=L().map,r=(0,l.useState)(),a=(0,h.Z)(r,2),i=a[0],u=a[1];return(0,l.useEffect)((function(){if(AMap&&t&&!i){var e=new AMap.CircleMarker((0,m.Z)({},o));return t.add(e),u(e),function(){e&&(t&&t.removeLayer(e),u(void 0))}}}),[t]),A(i,n),g(i,e,["Center","Raius","zIndex","Bubble","Cursor","StrokeColor","StrokeOpacity","StrokeWeight","FillColor","FillOpacity","Draggable","ExtData"]),Z(i,e,["onHide","onShow","onMouseover","onTouchend","onClick","onTouchmove","onRightclick","onMouseup","onMouseout","onTouchstart","onMousedown","onDblclick"]),{circleMarker:i,setCircleMarker:u}},Q=l.forwardRef((function(e,n){var o=_(e).circleMarker;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{circleMarker:o})})),null})),Y=["position"],V=function(e){void 0===e&&(e={});var n=e.position,o=(0,S.Z)(e,Y),t=L().map,r=(0,l.useState)(),a=(0,h.Z)(r,2),i=a[0],u=a[1];return(0,l.useEffect)((function(){if(AMap&&t&&!i){var e=new AMap.ContextMenu((0,m.Z)({},o));u(e);var r=function(o){return e.open(t,n||o.lnglat)};return t.on("rightclick",r),function(){e&&(t.off("rightclick",r),t&&t.removeLayer(e),u(void 0))}}}),[t]),Z(i,e,["onOpen","onClose"]),{contextMenu:i,setContextMenu:u}},q=function(){},K=l.forwardRef((function(e,n){var o=V(e).contextMenu;(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{contextMenu:o})}));var t=l.Children.toArray(e.children);return(0,p.jsx)(l.Fragment,{children:AMap&&o&&t.map((function(n,t){return l.isValidElement(n)?l.cloneElement(n,(0,m.Z)({},n.props,{AMap:AMap,map:e.map,contextMenu:o,key:t})):null}))})}));function $(e){void 0===e&&(e={});var n=e,o=n.position,t=n.visiable,r=n.offset,a=(0,l.useState)(),i=(0,h.Z)(a,2),u=i[0],c=i[1],s=L().map;return(0,l.useEffect)((function(){var e;if(s&&!u)return s.plugin(["AMap.ControlBar","AMap.HawkEye"],(function(){e=new AMap.ControlBar({offset:r,position:o}),s.addControl(e),c(e)})),function(){e&&s.removeControl(e)}}),[s]),A(u,t),{controlBarControl:u,setControlBarControl:c}}K.Item=function(e){void 0===e&&(e={});var n=e,o=n.text,t=void 0===o?"":o,r=n.onClick,a=void 0===r?q:r;return(0,l.useEffect)((function(){return e.contextMenu&&e.contextMenu.addItem(t,a,1),function(){e.contextMenu&&e.contextMenu.removeItem(t,a)}}),[e.contextMenu,e.text,e.onClick]),null};var J=l.forwardRef((function(e,n){var o=$(e).controlBarControl;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{controlBarControl:o})}),[o]),null})),X=["visiable"],ee=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,S.Z)(e,X),t=L().map,r=(0,l.useState)(),a=(0,h.Z)(r,2),i=a[0],u=a[1];return(0,l.useEffect)((function(){if(AMap&&t&&!i){var e=new AMap.Ellipse((0,m.Z)({},o));return t.add(e),u(e),function(){e&&(t&&t.removeLayer(e),u(void 0))}}}),[t]),A(i,n),g(i,e,["Center","Radius","Options","ExtData"]),Z(i,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{ellipse:i,setEllipse:u}},ne=l.forwardRef((function(e,n){var o=ee(e).ellipse;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{ellipse:o})})),null})),oe=["type","onComplete","onError"],te=function(e){void 0===e&&(e={});var n=e,o=n.type,t=void 0===o?"position":o,r=n.onComplete,a=n.onError,i=(0,S.Z)(e,oe),u=(0,l.useState)(),c=(0,h.Z)(u,2),s=c[0],f=c[1],d=L().map;function p(e,n){"complete"===e&&r?r(n):a&&a(n)}return(0,l.useEffect)((function(){var e;if(AMap&&!s)return AMap.plugin(["AMap.Geolocation"],(function(){e=new AMap.Geolocation((0,m.Z)({},i)),f(e)})),function(){e&&f(void 0)}}),[AMap]),(0,l.useMemo)((function(){if(/^(position|cityInfo)$/.test(t)){var e="position"===t?"getCurrentPosition":"getCityInfo";s&&d?(s[e](p),d.addControl(s)):s&&s[e](p)}}),[s]),{geolocation:s,setGeolocation:f}},re=l.forwardRef((function(e,n){var o=te(e).geolocation;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{geolocation:o})})),null})),ae=["offset","visiable"];function ie(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,h.Z)(n,2),t=o[0],r=o[1],a=e,i=a.offset,u=a.visiable,c=(0,S.Z)(e,ae),s=L().map;return(0,l.useEffect)((function(){var e;if(s&&!t)return s.plugin(["AMap.HawkEye"],(function(){e=new AMap.HawkEye((0,m.Z)({offset:i},c)),s.addControl(e),r(e)})),function(){e&&s&&(s.removeLayer(e),r(void 0))}}),[s]),A(t,u),{hawkEyeControl:t,setHawkEyeControl:r}}var ue=l.forwardRef((function(e,n){var o=ie(e).hawkEyeControl;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{hawkEyeControl:o})}),[o]),null})),ce=["visiable","position"],le=function(e){void 0===e&&(e={});var n=e,o=n.visiable,t=n.position,r=(0,S.Z)(e,ce),a=L().map,i=(0,l.useState)(o),u=(0,h.Z)(i,2),c=u[0],s=u[1],f=(0,l.useState)(),d=(0,h.Z)(f,2),p=d[0],v=d[1],M=w(),E=M.container,C=M.Portal;return(0,l.useEffect)((function(){if(AMap&&a&&!p){var n=a.getCenter();e.children&&(r.content=E);var o=new AMap.InfoWindow((0,m.Z)({},r,{position:t||n}));return v(o),c&&o.open(a,t||n),function(){o&&(a&&a.remove(o),v(void 0))}}}),[a]),(0,l.useEffect)((function(){p&&p.setContent(e.children?E:r.content||"")}),[e.children,E,r.content,p]),(0,l.useMemo)((function(){if(c!==o&&p&&a)if(s(o),o){var e=a.getCenter();p.open(a,t||e)}else p.close()}),[o,p]),(0,l.useEffect)((function(){if(a&&p&&o){var e=a.getCenter();p.open(a,t||e)}}),[t]),g(p,e,["Content","Anchor","Size"]),Z(p,e,["onOpen","onClose","onChange"]),{isOpen:c,setIsOpen:s,infoWindow:p,setInfoWindow:v,InfoWindowPortal:C}},se=l.forwardRef((function(e,n){var o=le(e),t=o.infoWindow,r=o.InfoWindowPortal;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{infoWindow:t})})),(0,p.jsx)(r,{children:e.children})})),fe=["visiable","defaultType"];function de(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,h.Z)(n,2),t=o[0],r=o[1],a=e,i=a.visiable,u=a.defaultType,c=void 0===u?0:u,s=(0,S.Z)(e,fe),f=L().map;return(0,l.useEffect)((function(){var e;if(f&&!t)return f.plugin(["AMap.MapType"],(function(){e=new AMap.MapType((0,m.Z)({defaultType:c},s)),f.addControl(e),r(e)})),function(){e&&f.removeControl(e)}}),[f]),A(t,i),{mapTypeControl:t,setMapTypeControl:r}}var pe,ve=l.forwardRef((function(e,n){var o=de(e).mapTypeControl;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{mapTypeControl:o})}),[o]),null}));function Me(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,h.Z)(n,2),t=o[0],r=o[1],a=e,i=a.visiable,u=a.type,c=a.options,s=L().map;return(0,l.useEffect)((function(){if(s){var n=null;if(u)switch(u){case pe.ROADNET:n=new AMap.TileLayer.RoadNet({});break;case pe.SATELLITE:n=new AMap.TileLayer.Satellite({});break;case pe.TRAFFIC:n=new AMap.TileLayer.Traffic({})}return c&&(n=new AMap.TileLayer(c)),n&&(s.addLayer(n),e.onAdded&&e.onAdded(),r(n)),function(){n&&(s.removeLayer(n),r(null),e.onRemoved&&e.onRemoved())}}}),[s,u,c]),A(t,i),{tileLayer:t,setTileLayer:r}}!function(e){e.SATELLITE="satellite",e.TRAFFIC="traffic",e.ROADNET="roadnet"}(pe||(pe={}));var me=l.forwardRef((function(e,n){var o=Me(e).tileLayer;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{tileLayer:o})}),[o]),null})),he=["visiable","children"],Ee=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,S.Z)(e,he),t=L().map,r=(0,l.useState)(),a=(0,h.Z)(r,2),i=a[0],u=a[1],c=w(),s=c.container,f=c.Portal;return(0,l.useEffect)((function(){if(!i&&t){e.children&&(o.content=s);var n=new AMap.Marker((0,m.Z)({},o));t.add(n),u(n)}return function(){i&&(i.setMap(null),u(void 0))}}),[t,i]),A(i,n),g(i,e,["Path","Anchor","Offset","Animation","Clickable","Position","Angle","Label","zIndex","Icon","Draggable","Cursor","Content","Map","Title","Top","Shadow","Shape","ExtData"]),Z(i,e,["onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragging","onDragEnd","onMoving","onMoveEnd","onMoveAlong","onTouchStart","onTouchMove","onTouchEnd"]),{marker:i,setMarker:u,MarkerPortal:f}},Ce=(0,l.forwardRef)((function(e,n){var o=Ee(e),t=o.marker,r=o.MarkerPortal;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{marker:t})}),[t]),(0,p.jsx)(r,{children:e.children})})),we=["visiable","children","text","icon"],ye=(0,l.forwardRef)((function(e,n){var o=function(e){void 0===e&&(e={});var n=e,o=n.visiable,t=n.text,r=n.icon,a=(0,S.Z)(e,we),i=L(),u=i.map,c=i.AMap,s=(0,l.useState)(),f=(0,h.Z)(s,2),d=f[0],p=f[1];return(0,l.useEffect)((function(){if(!d&&u){var e,n=t;t||(n={content:"",direction:"right",offset:[-20,-5],style:{fontSize:12,fillColor:"#22886f",strokeColor:"#fff",strokeWidth:2}});var o=r;o||(o={image:"http://webapi.amap.com/theme/v1.3/markers/b/mark_bs.png",size:[19,32],anchor:"center"});var i,l=new c.LabelMarker((0,m.Z)({style:o,icon:o,text:n},a));p(l),0===(null==c||null==(e=c.v)?void 0:e.indexOf("1.4"))&&(u.labelMarkersLayer?i=u.labelMarkersLayer:(u.labelMarkersLayer=i=new c.LabelsLayer({zooms:[3,20],zIndex:101,collision:!0,animation:!0}),u.add(i)),i.add(l)),u.add(l)}return function(){var e,n;d&&(0===(null==c||null==(e=c.v)?void 0:e.indexOf("1.4"))&&(null==u||null==(n=u.labelMarkersLayer)||n.remove(d)),p(void 0))}}),[d,u]),A(d,o),g(d,e,["Name","Position","Zooms","Opacity","zIndex","Rank","Text","Icon","ExtData","Top"]),Z(d,e,["onMousedown","onMouseup","onTouchstart","onTouchmove","onTouchend","onClick","onMousemove","onMouseover","onMouseout"]),{labelMarker:d,setLabelMarker:p}}(e),t=o.labelMarker;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{labelMarker:t})}),[t]),null})),Ae=["visiable"],ke=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,S.Z)(e,Ae),t=L().map,r=o||{},a=r.opacity,i=void 0===a?.8:a,u=r.zIndex,c=void 0===u?1111:u,s=r.style,f=r.data,d=(0,l.useState)(),p=(0,h.Z)(d,2),v=p[0],M=p[1];return(0,l.useEffect)((function(){if(AMap&&t&&!v){var e=s;e||(e=[{url:"https://webapi.amap.com/images/mass/mass0.png",anchor:new AMap.Pixel(6,6),size:new AMap.Size(11,11),zIndex:3},{url:"https://webapi.amap.com/images/mass/mass1.png",anchor:new AMap.Pixel(4,4),size:new AMap.Size(7,7),zIndex:2},{url:"https://webapi.amap.com/images/mass/mass2.png",anchor:new AMap.Pixel(3,3),size:new AMap.Size(5,5),zIndex:1}]);var n=new AMap.MassMarks(f||[],{opacity:i,zIndex:c,style:e});return M(n),n.setMap(t),function(){n&&(n.clear(),M(void 0))}}}),[t]),A(v,n),g(v,e,["Map","Data","Style","Opacity","zIndex","Zooms"]),Z(v,e,["onClick","onDblClick","onMouseMove","onMouseOut","onMouseUp","onMouseDown","onMouseOver","onTouchStart","onTouchEnd"]),{massMarks:v,setMassMarks:M}},Ze=l.forwardRef((function(e,n){var o=ke(e).massMarks;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{massMarks:o})}),[o,e]),null})),ge=["visiable"],be=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,S.Z)(e,ge),t=L().map,r=(0,l.useState)(),a=(0,h.Z)(r,2),i=a[0],u=a[1];return(0,l.useEffect)((function(){if(AMap&&t&&!i){var e=new AMap.Polygon((0,m.Z)({},o));t.add(e),u(e)}}),[t]),A(i,n),g(i,e,["ExtData","ExtData"]),Z(i,e,["onClick","onDblClick","onRightClick","onHide","onShow","onMouseDown","onMouseUp","onMouseOver","onMouseOut","onChange","onTouchStart","onTouchMove","onTouchEnd"]),{polygon:i,setPolygon:u}},Te=(0,l.forwardRef)((function(e,n){var o=e.children,t=be(e).polygon;if((0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{polygon:t})})),o&&(0,l.isValidElement)(o)&&t){var r={polygon:t,polyElement:t};return(0,l.cloneElement)(o,(0,m.Z)({},e,r))}return null})),Se=(0,l.forwardRef)((function(e,n){var o=e.active,t=e.polygon,r=L().map,a=(0,l.useState)(!0),i=(0,h.Z)(a,2),u=i[0],c=i[1],s=(0,l.useState)(),f=(0,h.Z)(s,2),d=f[0],p=f[1];return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{polyEditor:d})})),(0,l.useEffect)((function(){if(t&&r&&!d&&AMap&&AMap.PolygonEditor){var e=new AMap.PolygonEditor(r,t);t.on("hide",(function(){return c(!1)})),t.on("show",(function(){return c(!0)})),p(e)}}),[t]),(0,l.useEffect)((function(){d&&(u&&!o?d.close():u&&o?d.open():!u&&o&&d.close())}),[o,u]),Z(d,e,["onEnd","onAddnode","onRemovenode","onAdjust","onMove","onAdd"]),null})),Re=(0,l.forwardRef)((function(e,n){var o=e.active,t=e.polyElement,r=L().map,a=(0,l.useState)(!0),i=(0,h.Z)(a,2),u=i[0],c=i[1],s=(0,l.useState)(),f=(0,h.Z)(s,2),d=f[0],p=f[1];return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{polyEditor:d})})),(0,l.useEffect)((function(){if(t&&r&&!d&&AMap&&AMap.PolyEditor){var e=new AMap.PolyEditor(r,t);t.on("hide",(function(){return c(!1)})),t.on("show",(function(){return c(!0)})),p(e)}}),[t]),(0,l.useEffect)((function(){d&&(u&&!o?d.close():u&&o?d.open():!u&&o&&d.close())}),[o,u]),Z(d,e,["onEnd","onAddnode","onAdjust","onRemovenode"]),null})),xe=["visiable"];function Ie(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,h.Z)(n,2),t=o[0],r=o[1],a=e.visiable,i=(0,S.Z)(e,xe),u=L().map;return(0,l.useEffect)((function(){if(u&&!t){var e=new AMap.Polyline((0,m.Z)({},i));return u.add(e),r(e),function(){e&&(u&&u.removeLayer(e),r(void 0))}}}),[u]),A(t,a),g(t,e,["Options","Map","ExtData"]),Z(t,e,["onHide","onShow","onMouseOut","onChange","onRightClick","onDblClick","onMouseDown","onClick","onMouseOver","onTouchEnd","onTouchMove","onTouchStart","onMouseUp"]),{polyline:t,setPolyline:r}}var Oe,Le=l.forwardRef((function(e,n){var o=e.children,t=Ie(e).polyline;if((0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{polyline:t})}),[t]),o&&(0,l.isValidElement)(o)&&t){var r={polyElement:t,polyline:t};return(0,l.cloneElement)(o,(0,m.Z)({},e,r))}return null})),Pe=(0,l.forwardRef)((function(e,n){var o=e.active,t=e.polyline,r=L().map,a=(0,l.useState)(!0),i=(0,h.Z)(a,2),u=i[0],c=i[1],s=(0,l.useState)(),f=(0,h.Z)(s,2),d=f[0],p=f[1];return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{polyEditor:d})})),(0,l.useEffect)((function(){if(t&&r&&!d&&AMap&&AMap.PolylineEditor){var e=new AMap.PolylineEditor(r,t);t.on("hide",(function(){return c(!1)})),t.on("show",(function(){return c(!0)})),p(e)}}),[t]),(0,l.useEffect)((function(){d&&(u&&!o?d.close():u&&o?d.open():!u&&o&&d.close())}),[o,u]),Z(d,e,["onEnd","onAddnode","onRemovenode","onAdjust","onAdd"]),null}));!function(e){e[e.MARKER=0]="MARKER",e[e.POLYLINE=1]="POLYLINE",e[e.POLYGON=2]="POLYGON",e[e.CIRCLE=3]="CIRCLE",e[e.RECTANGLE=4]="RECTANGLE",e[e.MEASUREAREA=5]="MEASUREAREA",e[e.RULE=6]="RULE",e[e.RECTZOOMIN=7]="RECTZOOMIN",e[e.RECTZOOMOUT=8]="RECTZOOMOUT"}(Oe||(Oe={}));var De=(0,l.forwardRef)((function(e,n){var o=e.active,t=e.type,r=e.drawElementOptions,a=L().map,i=(0,l.useState)(),u=(0,h.Z)(i,2),c=u[0],s=u[1];return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{mouseTool:c})})),(0,l.useEffect)((function(){if(a&&!c&&AMap&&AMap.MouseTool){var e=new AMap.MouseTool(a);s(e)}}),[a,Map,AMap.MouseTool]),(0,l.useEffect)((function(){if(c)if(o)switch(t){case Oe.MARKER:c.marker(r||{});break;case Oe.POLYLINE:c.polyline(r||{});break;case Oe.POLYGON:c.polygon(r||{});break;case Oe.CIRCLE:c.circle(r||{});break;case Oe.RECTANGLE:c.rectangle(r||{});break;case Oe.MEASUREAREA:c.measureArea(r||{});break;case Oe.RULE:c.rule(r||{});break;case Oe.RECTZOOMIN:c.rectZoomIn(r||{});break;case Oe.RECTZOOMOUT:c.rectZoomOut(r||{})}else c.close()}),[o]),Z(c,e,["onDraw"]),null})),He=["visiable"],ze=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,S.Z)(e,He),t=L().map,r=(0,l.useState)(),a=(0,h.Z)(r,2),i=a[0],u=a[1];return(0,l.useEffect)((function(){if(AMap&&t&&!i){var e=new AMap.Rectangle((0,m.Z)({},o));return t.add(e),u(e),function(){e&&(t&&t.removeLayer(e),u(void 0))}}}),[t]),A(i,n),g(i,e,["Bounds","Options","Map","ExtData"]),Z(i,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{rectangle:i,setRectangle:u}},Be=l.forwardRef((function(e,n){var o=ze(e).rectangle;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{rectangle:o})})),null}));function Ne(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,h.Z)(n,2),t=o[0],r=o[1],a=e,i=a.position,u=a.visiable,c=a.offset,s=L().map;return(0,l.useEffect)((function(){var e;if(s&&!t)return s.plugin(["AMap.Scale"],(function(){e=new AMap.Scale({offset:c,position:i}),s.addControl(e),r(e)})),function(){e&&s.removeControl(e)}}),[s]),A(t,u),{scaleControl:t,setScaleControl:r}}var Ue=l.forwardRef((function(e,n){var o=Ne(e).scaleControl;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{scaleControl:o})}),[o]),null})),We=["visiable"],je=function(e){void 0===e&&(e={});var n=e.visiable,o=(0,S.Z)(e,We),t=(0,l.useState)(),r=(0,h.Z)(t,2),a=r[0],i=r[1],u=L().map,c=w(),s=c.container,f=c.Portal;return(0,l.useEffect)((function(){if(AMap&&u&&!a){e.children&&(o.text=s.innerHTML);var n=new AMap.Text((0,m.Z)({},o));return u.add(n),i(n),function(){n&&(n.remove(),i(void 0))}}}),[u]),(0,l.useEffect)((function(){a&&a.setText(e.children?s.innerHTML:e.text||"")}),[e.children,e.text,s,a]),A(a,n),g(a,e,["Style","Title","Clickable","Draggable","Map","Position","Offset","Angle","zIndex","Top","Cursor","ExtData"]),Z(a,e,["onMoving","onTouchMove","onTouchEnd","onMoveaLong","onTouchStart","onMoveEnd","onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragEnd","onDragging"]),{text:a,setText:i,TextPortal:f}},Fe=(0,l.forwardRef)((function(e,n){var o=je((0,m.Z)({},e)),t=o.text,r=o.TextPortal;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{text:t})})),e.children?(0,p.jsx)(r,{children:e.children}):null}));function Ge(e){void 0===e&&(e={});var n=(0,l.useState)(),o=(0,h.Z)(n,2),t=o[0],r=o[1],a=e,i=a.position,u=a.visiable,c=a.offset,s=L().map;return(0,l.useEffect)((function(){var e;if(s&&!t)return s.plugin(["AMap.ToolBar"],(function(){e=new AMap.ToolBar({offset:c,position:i}),s.addControl(e),r(e)})),function(){e&&s.removeControl(e)}}),[s]),A(t,u),{toolBarControl:t,setToolBarControl:r}}var _e=l.forwardRef((function(e,n){var o=Ge(e).toolBarControl;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{toolBarControl:o})}),[o]),null})),Qe=function(e){void 0===e&&(e={});var n=e,o=n.city,t=void 0===o?"":o,r=n.type,a=void 0===r?"live":r,i=n.onComplete,u=n.onError,c=(0,l.useState)(),s=(0,h.Z)(c,2),f=s[0],d=s[1],p="live"===a?"getLive":"getForecast";return(0,l.useEffect)((function(){var e;if(AMap&&!f)return AMap.plugin(["AMap.Weather"],(function(){e=new AMap.Weather,d(e)})),function(){e&&d(void 0)}}),[]),(0,l.useMemo)((function(){var e;f&&t&&a&&(e=f,a&&t&&/^(live|forecast)$/.test(a)&&e[p](t,(function(e,n){e&&u?u(e):n&&i&&i(n)})))}),[f,t,a]),{weather:f,setWeather:d}},Ye=l.forwardRef((function(e,n){var o=Qe(e).weather;return(0,l.useImperativeHandle)(n,(function(){return(0,m.Z)({},e,{weather:o})})),null}))}}]);
//# sourceMappingURL=6638.b4f4a497.chunk.js.map